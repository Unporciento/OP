<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üõ†Ô∏è HeavyDiag - Manual Interactivo de Aver√≠as Mineras</title>
<!-- Font Awesome para iconos -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
<style>
  /* --- ESTILOS CSS (v13 - Sin cambios respecto a v12) --- */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #1f2833 0%, #2c3e50 100%); min-height: 100vh; padding: 20px; color: #e0e0e0; line-height: 1.6; }
  .container { max-width: 1300px; margin: 0 auto; }
  header { text-align: center; color: #f5b74f; margin-bottom: 30px; }
  header h1 { font-size: 2.8rem; text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5); margin-bottom: 8px; }
  header p { font-size: 1.15rem; color: #bdc3c7; }
  .main-content { background: #34495e; border-radius: 12px; padding: 30px; box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6); }

  h2 { color: #f5b74f; margin-bottom: 20px; border-bottom: 2px solid #566573; padding-bottom: 8px; font-size: 1.8rem; display: flex; align-items: center;}
  h2 i.section-icon, h2 span.section-icon { margin-right: 12px; font-size: 1.5rem; width: 30px; text-align: center;} /* Acepta span para emojis */

  .selection-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
  .selection-card { background: linear-gradient(145deg, #f5b74f 0%, #f7d794 100%); color: #1a1a1a; padding: 20px; border-radius: 10px; cursor: pointer; border: 3px solid transparent; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); text-align: center; box-shadow: 0 5px 10px rgba(0,0,0,0.3); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 160px;}
  .selection-card:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 10px 25px rgba(245, 183, 79, 0.4); }
  .selection-card.selected { border-color: #e74c3c; background: #fff; box-shadow: 0 0 25px rgba(231, 76, 60, 0.7); transform: scale(1.02); }
  .selection-card .icon { font-size: 3rem; margin-bottom: 12px; line-height: 1; } /* Ajuste line-height */
  .selection-card strong { display: block; margin-top: 8px; font-size: 1.25rem; }
  .selection-card .description { font-size: 0.9rem; color: #444; margin-top: 5px; }

  .section { margin-top: 35px; }
  .hidden { display: none; }

  #filterInput { width: 100%; padding: 12px 15px; margin-bottom: 20px; border: 2px solid #566573; border-radius: 6px; background-color: #2c3e50; color: #ecf0f1; font-size: 1rem; outline: none; transition: border-color 0.2s; }
  #filterInput:focus { border-color: #f5b74f; }
  .failures-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 15px; }
  .failure-btn { background: #566573; color: #ecf0f1; padding: 18px; border-radius: 8px; border: none; text-align: left; cursor: pointer; transition: background 0.2s, transform 0.1s; display: flex; flex-direction: column; box-shadow: 0 3px 5px rgba(0,0,0,0.2); min-height: 110px; }
  .failure-btn:hover { background: #6c7a89; transform: translateY(-2px); }
  .failure-btn strong { display: block; margin-bottom: 6px; font-size: 1.15rem; color: #f5b74f; }
  .failure-btn .initial-context { font-size: 0.9rem; color: #bdc3c7; margin-top: 6px; font-style: italic; flex-grow: 1; }
  .failure-btn .models { font-size: 0.85rem; color: #95a5a6; margin-top: 8px; font-style: italic;}

  .diagnosis-area { margin-top: 35px; background: #2c3e50; padding: 30px; border-radius: 10px; box-shadow: inset 0 0 15px rgba(0,0,0,0.4); }
  .diagnosis-area h2 { border-bottom-color: #7f8c8d; display: flex; align-items: center;}
  .diagnosis-area h2 i.section-icon, .diagnosis-area h2 span.section-icon { margin-right: 12px; font-size: 1.5rem; width: 30px; text-align: center;}

  .info-card { background: #34495e; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 6px solid #f5b74f; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
  .info-card h4 { color: #f5b74f; margin-bottom: 12px; font-size: 1.35rem; display: flex; align-items: center; }
  .info-card h4 i { margin-right: 12px; width: 22px; text-align: center;}
  .info-card ul, .info-card ol { margin-left: 25px; padding-left: 15px; color: #ecf0f1; }
  .info-card li { margin-bottom: 10px; }
  .info-card p { color: #ecf0f1; margin-bottom: 12px; }
  .info-card strong { color: #f5b74f; }

  .chain-step { background: #566573; padding: 12px; border-radius: 5px; margin: 10px 0; border-left: 4px solid #f5b74f; color: #ecf0f1; box-shadow: inset 0 1px 3px rgba(0,0,0,0.2); }
  .alert-safety { background: rgba(231, 76, 60, 0.9); border-left: 6px solid #c0392b; color: #fff; font-weight: bold; }
  .alert-engineer { background: rgba(39, 174, 96, 0.9); border-left: 6px solid #27ae60; color: #fff; }
  .codes-list code { background: #233140; padding: 4px 8px; border-radius: 4px; font-family: Consolas, 'Courier New', monospace; color: #95a5a6; margin: 0 5px 5px 0; display: inline-block; border: 1px solid #4a5d73; }
  .model-info { font-size: 0.9rem; color: #bdc3c7; margin-top: -15px; margin-bottom: 15px; font-style: italic; text-align: right; }

  .action-buttons { display: flex; gap: 15px; margin-top: 25px; flex-wrap: wrap; }
  .search-btn { background: #3498db; color: #fff; padding: 12px 20px; border-radius: 6px; border: none; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-flex; align-items: center; font-size: 1rem; box-shadow: 0 3px 6px rgba(0,0,0,0.2); }
  .search-btn i { margin-right: 8px; }
  .search-btn:hover { background: #2980b9; box-shadow: 0 5px 10px rgba(0,0,0,0.3); transform: translateY(-1px);}
  .reset-btn { background: #95a5a6; }
  .reset-btn:hover { background: #7f8c8d; }
  .back-btn { background: #f39c12; }
  .back-btn:hover { background: #e67e22; }

</style>
</head>
<body>
  <div class="container">
    <header>
      <h1><i class="fas fa-wrench"></i> HeavyDiag</h1>
      <p>Manual Interactivo de Diagn√≥stico para Maquinaria Pesada y Minera</p>
    </header>

    <div class="main-content">
      <!-- PASO 1: SELECCI√ìN DE TIPO DE MAQUINARIA -->
      <section id="machineTypeSection" class="section">
        <h2><span class="section-icon">‚öôÔ∏è</span> Paso 1: Selecciona el tipo de maquinaria</h2>
        <div id="machineTypesGrid" class="selection-grid"></div>
      </section>

      <!-- PASO 2: SELECCI√ìN DE MARCA/MODELO -->
      <section id="brandModelSection" class="section hidden">
        <h2><i class="fas fa-tags section-icon"></i> Paso 2: Selecciona la Marca/Modelo</h2>
        <button id="backToTypesBtn" class="search-btn back-btn" style="margin-bottom: 20px;"><i class="fas fa-arrow-left"></i> Volver a Tipos</button>
        <div id="brandsGrid" class="selection-grid"></div>
      </section>

      <!-- PASO 3: SELECCI√ìN DE FALLA -->
      <section id="failureSection" class="section hidden">
        <h2><i class="fas fa-search section-icon"></i> Paso 3: Selecciona una aver√≠a (o filtra)</h2>
         <button id="backToBrandsBtn" class="search-btn back-btn" style="margin-bottom: 20px;"><i class="fas fa-arrow-left"></i> Volver a Marcas</button>
        <input type="text" id="filterInput" placeholder="Escribe para filtrar fallas (ej: 'inyector', 'hidraulico', 'freno')...">
        <div id="failuresList" class="failures-list"></div>
      </section>

      <!-- PASO 4: DIAGN√ìSTICO -->
      <section id="diagnosisArea" class="section hidden">
         <button id="backToFailuresBtn" class="search-btn back-btn" style="margin-bottom: 20px;"><i class="fas fa-arrow-left"></i> Volver a Fallas</button>
        <h2 id="diagnosisTitle"><i class="fas fa-clipboard-list section-icon"></i> Diagn√≥stico Detallado</h2>
        <div id="diagnosisResult"></div>
        <div class="action-buttons">
          <a id="btnOpenGoogle" class="search-btn" href="#" target="_blank"><i class="fab fa-google"></i> Buscar m√°s en Google</a>
          <button id="btnReset" class="search-btn reset-btn"><i class="fas fa-undo"></i> Reiniciar Todo</button>
        </div>

      </section>
    </div>
  </div>

<script>
/* ----------------------------------------------------------------------------------------- */
/* HEAVYDIAG - DATOS Y L√ìGICA (v13 - FINAL DEFINITIVO! Datos Completos Verificados + Emojis) */
/* ----------------------------------------------------------------------------------------- */

const machineTypes = {
    camioneta: { name: "Camioneta Minera", icon: "üõª", description: "Hilux, Ranger, L200..." },
    retroexcavadora: { name: "Retroexcavadora", icon: "üöú", description: "Komatsu, CAT, JCB..." },
    excavadora: { name: "Excavadora", icon: "<i class='fas fa-mountain-city'></i>", description: "CAT, Komatsu, Volvo..." },
    cargador: { name: "Cargador Frontal", icon: "<i class='fas fa-cubes-stacked'></i>", description: "CAT, Komatsu, Volvo..." },
    dumper: { name: "Cami√≥n Minero", icon: "<i class='fas fa-truck-monster'></i>", description: "CAT, Komatsu..." },
    bulldozer: { name: "Bulldozer", icon: "<i class='fas fa-tractor'></i>", description: "CAT, Komatsu..." },
    motoniveladora: { name: "Motoniveladora", icon: "<i class='fas fa-road'></i>", description: "CAT, Komatsu..." },
    pala: { name: "Pala Hidr√°ulica", icon: "<i class='fas fa-person-digging'></i>", description: "CAT, Komatsu, Liebherr..." },
};

const brandsAndModels = {
    camioneta: [
        { key: "hilux", name: "Toyota Hilux", icon: "üõª", models: ["2.4L", "2.8L Diesel"] },
        { key: "ranger", name: "Ford Ranger", icon: "üõª", models: ["3.2L", "2.0L Bi-Turbo"] },
        { key: "l200", name: "Mitsubishi L200", icon: "üõª", models: ["2.4L MIVEC"] },
        { key: "np300", name: "Nissan NP300/Navara", icon: "üõª", models: ["2.3L Bi-Turbo"] },
        { key: "amarok", name: "Volkswagen Amarok", icon: "üõª", models: ["2.0L TDI", "3.0L V6 TDI"] },
        { key: "bt50", name: "Mazda BT-50", icon: "üõª", models: ["3.0L", "3.2L Diesel"] },
        { key: "colorado", name: "Chevrolet Colorado/S10", icon: "üõª", models: ["2.5L", "2.8L Duramax"] },
        { key: "dmax", name: "Isuzu D-Max", icon: "üõª", models: ["3.0L Diesel"] },
    ],
    retroexcavadora: [
        { key: "komatsu_wb", name: "Komatsu WB93/97", icon: "üöú", models: ["WB93R-5", "WB97"] },
        { key: "cat_retro", name: "CAT 416/420/430", icon: "üöú", models: ["416E", "420F", "430F"] },
        { key: "jcb_3cx", name: "JCB 3CX/4CX", icon: "üöú", models: ["3CX", "4CX"] },
        { key: "case_580", name: "Case 580/590", icon: "üöú", models: ["580N", "590SN"] },
        { key: "nh_retro", name: "New Holland", icon: "üöú", models: ["B90B", "B95B"] },
    ],
    excavadora: [
        { key: "cat_320", name: "CAT 320", icon: "<i class='fas fa-mountain-city'></i>", models: ["320D", "320E", "320F"] },
        { key: "komatsu_pc200", name: "Komatsu PC200/210", icon: "<i class='fas fa-mountain-city'></i>", models: ["PC200-8", "PC210LC-10"] },
        { key: "volvo_ec210", name: "Volvo EC210/240", icon: "<i class='fas fa-mountain-city'></i>", models: ["EC210B", "EC240C"] },
        { key: "hitachi_zx200", name: "Hitachi ZX200", icon: "<i class='fas fa-mountain-city'></i>", models: ["ZX200-5G"] },
    ],
     cargador: [
        { key: "cat_950_966", name: "CAT 950/966/972", icon: "<i class='fas fa-cubes-stacked'></i>", models: ["950H", "966H", "972H", "992K", "993K"] }, // A√±adidos gigantes
        { key: "komatsu_wa380", name: "Komatsu WA", icon: "<i class='fas fa-cubes-stacked'></i>", models: ["WA380-6", "WA470-6", "WA900", "WA1200"] }, // Nombre gen√©rico
        { key: "volvo_l120_l150", name: "Volvo L", icon: "<i class='fas fa-cubes-stacked'></i>", models: ["L120F", "L150G", "L180"] }, // Nombre gen√©rico
        { key: "liebherr_l586", name: "Liebherr L586", icon: "<i class='fas fa-cubes-stacked'></i>", models: ["L586 XPower"] },
    ],
     dumper: [
         { key: "cat_777_785", name: "CAT Dumper", icon: "<i class='fas fa-truck-monster'></i>", models: ["777D/F", "785D", "793F", "797F (Mec√°nico)"] }, // Nombre gen√©rico
         { key: "komatsu_hd785", name: "Komatsu Dumper", icon: "<i class='fas fa-truck-monster'></i>", models: ["HD785-7 (Mec√°nico)", "930E", "980E (El√©ctrico)"] }, // Nombre gen√©rico
         { key: "volvo_a40", name: "Volvo A40G", icon: "<i class='fas fa-truck-moving'></i>", models: ["A40G (Articulado)"] },
         { key: "liebherr_t284", name: "Liebherr T284", icon: "<i class='fas fa-truck-monster'></i>", models: ["T284 (El√©ctrico)"] },
     ],
     bulldozer: [
        { key: "cat_d11", name: "CAT D11", icon: "<i class='fas fa-tractor'></i>", models: ["D11T", "D11R"] },
        { key: "komatsu_d475", name: "Komatsu D475", icon: "<i class='fas fa-tractor'></i>", models: ["D475A"] },
        { key: "liebherr_pr776", name: "Liebherr PR776", icon: "<i class='fas fa-tractor'></i>", models: ["PR776"] },
     ],
     motoniveladora: [
         { key: "cat_16_24", name: "CAT Grader", icon: "<i class='fas fa-road'></i>", models: ["16M", "24M"] }, // Nombre gen√©rico
         { key: "komatsu_gd955", name: "Komatsu GD955", icon: "<i class='fas fa-road'></i>", models: ["GD955"] },
     ],
     pala: [
        { key: "cat_pala", name: "CAT Pala", icon: "<i class='fas fa-person-digging'></i>", models: ["6060FS", "6090FS"] }, // Nombre gen√©rico
        { key: "komatsu_pala", name: "Komatsu Pala", icon: "<i class='fas fa-person-digging'></i>", models: ["PC8000-6"] }, // Nombre gen√©rico
        { key: "liebherr_pala", name: "Liebherr Pala", icon: "<i class='fas fa-person-digging'></i>", models: ["R9800"] }, // Nombre gen√©rico
        { key: "hitachi_pala", name: "Hitachi Pala", icon: "<i class='fas fa-person-digging'></i>", models: ["EX8000-6"] }, // Nombre gen√©rico
     ]
};

// BASE DE DATOS DE FALLAS (v13 - FINAL DEFINITIVO CON TODOS LOS DATOS EXTRA√çDOS)
const failures = {
    // --- CAMIONETAS ---
    hilux: [
        { id: 101, name: "Sistema Inyecci√≥n Diesel", initial: "P√©rdida de potencia, humo negro/blanco, arranque dif√≠cil.", modelosAplicables: ["Toyota Hilux 2.4L/2.8L"], alertaSeguridad: "No manipular inyectores con motor en marcha (alta presi√≥n).", symptoms: ["P√©rdida potencia progresiva", "Humo negro (acelerar)", "Humo blanco (arranque fr√≠o)", "Consumo >12L/100km", "Arranque dif√≠cil fr√≠o", "Ralent√≠ inestable"], causes: ["Inyectores obstruidos/desgastados", "Filtro combustible saturado", "Bomba alta presi√≥n (HP) defectuosa", "Sensor MAF sucio", "V√°lvula EGR carbonizada", "Turbo con juego excesivo", "Combustible contaminado"], diagnosticSteps: ["1. Escanear c√≥digos OBD2.", "2. Verificar presi√≥n riel com√∫n (1350-1800 bar).", "3. Prueba retorno inyectores (<1.5L/min total).", "4. Medir resistencia inyectores (0.3-0.5 ohms).", "5. Verificar se√±al MAF (2.5-3.5V ralent√≠).", "6. Inspeccionar juego turbo (<0.05mm radial)."], solution: ["Limpieza/reemplazo inyectores", "Cambio filtro combustible", "Reemplazo bomba HP", "Limpieza MAF/EGR", "Reparaci√≥n/reemplazo turbo", "Calibraci√≥n con esc√°ner Toyota"], costoEstimado: "US$ 100 (filtro) - US$ 3,000+ (inyectores/bomba)", searchTerms: "toyota hilux diesel inyector perdida potencia humo negro", codes: ["P0087", "P0093", "P0191", "P0201-P0204", "P2146"], datoIngeniero: "La presi√≥n Common Rail en Hilux es muy alta, cualquier contaminaci√≥n afecta el rendimiento." },
        { id: 102, name: "Transmisi√≥n Autom√°tica", initial: "Cambios bruscos, deslizamiento, sobrecalentamiento.", modelosAplicables: ["Toyota Hilux (Autom√°tica)"], symptoms: ["Golpe al cambiar P->D o R", "Deslizamiento en subidas", "No entra marcha despu√©s de calentar", "Temperatura ATF >120¬∞C", "Ruido zumbido"], causes: ["Nivel bajo ATF", "Filtro ATF obstruido", "Solenoides cambio defectuosos", "Clutch desgastado", "M√≥dulo TCM fallando", "Enfriador ATF tapado"], diagnosticSteps: ["1. Verificar nivel ATF (motor caliente, neutro).", "2. Revisar color/olor ATF (rojo limpio vs caf√© quemado).", "3. Medir temperatura con esc√°ner.", "4. Prueba presi√≥n l√≠nea (10-12 bar).", "5. Escanear c√≥digos TCM.", "6. Prueba stall (<2500 RPM)."], solution: ["Cambio ATF + filtro (usar Toyota ATF WS)", "Reemplazo solenoides", "Limpieza enfriador", "Overhaul si hay da√±o interno"], costoEstimado: "US$ 200 (cambio aceite) - US$ 4,000 (Overhaul)", searchTerms: "transmision automatica hilux cambios bruscos patina", codes: ["P0734", "P0750", "P0841", "P0715"] },
        { id: 103, name: "Sistema 4WD no activa", initial: "Luz 4WD parpadea, no entra 4x4.", modelosAplicables: ["Toyota Hilux 4x4"], symptoms: ["Luz 4WD parpadea", "No acopla 4x4", "Vibraci√≥n al girar (si queda trabado)", "Mensaje error tablero"], causes: ["Actuador diferencial delantero (ADD) defectuoso", "Sensor velocidad rueda fallando", "Acoplador transfer desgastado", "Cableado roto", "M√≥dulo 4WD ECU"], diagnosticSteps: ["1. Escanear c√≥digos 4WD.", "2. Verificar fusibles.", "3. Probar actuador ADD (aplicar 12V).", "4. Revisar cableado y conectores.", "5. Probar sensores ABS/velocidad."], solution: ["Reemplazo actuador ADD", "Cambio aceite transfer", "Revisar sensores ABS"], costoEstimado: "US$ 200 - US$ 600", searchTerms: "hilux 4x4 no funciona luz parpadea actuador ADD", codes: ["C1241", "C1249"] },
        { id: 110, name: "Chasis Fisurado (Zona Trasera)", initial:"Ruido ('clack') al pasar baches, posible desnivel.", modelosAplicables: ["Toyota Hilux"], alertaSeguridad:"Inspecci√≥n estructural URGENTE. Riesgo de colapso.", symptoms:["Ruido estructural", "Desnivel caja carga", "Fisuras visibles cerca soportes ballestas"], causes:["Fatiga material por sobrecarga/torsi√≥n constante", "Corrosi√≥n"], diagnosticSteps:["1. Limpieza profunda chasis.", "2. Inspecci√≥n visual detallada (especialmente sobre eje trasero).", "3. Prueba l√≠quidos penetrantes si se sospecha fisura fina."], solution:["Reparaci√≥n estructural por soldador calificado (seguir procedimiento Toyota)", "Instalar kit refuerzo chasis"], costoEstimado:"US$ 500 - $3,000+", searchTerms:"chasis fisurado hilux reparacion", codes:[] },
    ],
    ranger: [
        { id: 201, name: "Enfriador EGR Fisurado (3.2L)", initial: "P√©rdida de refrigerante, riesgo sobrecalentamiento.", modelosAplicables: ["Ford Ranger 3.2L"], alertaSeguridad: "Verificar nivel refrigerante. No operar si recalienta.", symptoms:["Baja nivel refrigerante sin fuga visible", "Humo blanco (si fuga es grande)", "Sobrecalentamiento"], causes:["Fisura interna enfriador EGR"], diagnosticSteps:["1. Prueba presi√≥n sistema enfriamiento.", "2. Verificar si hay refrigerante en admisi√≥n/escape.", "3. Desmontar e inspeccionar enfriador EGR."], solution:["Reemplazo del enfriador EGR"], costoEstimado:"US$ 400 - $800", searchTerms:"ford ranger 3.2 egr cooler leak perdida refrigerante", codes:["P0401", "P0402"] },
        { id: 202, name: "DPF Saturado (2.0L/3.2L)", initial: "Luz DPF, p√©rdida potencia, modo emergencia.", modelosAplicables: ["Ford Ranger (con DPF)"], alertaSeguridad:"Regeneraci√≥n forzada genera altas temperaturas.", symptoms:["Luz DPF", "Modo Limp", "Consumo alto", "Regeneraciones frecuentes"], causes:["Trayectos cortos", "Regeneraciones interrumpidas", "Aceite incorrecto", "Sensor presi√≥n DPF"], diagnosticSteps:["1. Escanear nivel saturaci√≥n.", "2. Medir presi√≥n diferencial.", "3. Verificar historial regeneraciones."], solution:["Regeneraci√≥n forzada", "Limpieza DPF", "Asegurar viajes carretera", "Usar aceite Low SAPS", "Reemplazo DPF"], costoEstimado:"US$ 300 (limpieza) - US$ 2,500 (reemplazo)", searchTerms:"ford ranger dpf saturado regeneracion forzada", codes:["P2463", "P242F"] },
        { id: 203, name: "Sensores ABS/Control Tracci√≥n", initial: "Luces ABS/TC encendidas, sistema inactivo.", modelosAplicables: ["Ford Ranger"], alertaSeguridad:"Frenado puede ser menos estable.", symptoms:["Luces ABS/TC/Estabilidad", "Sistema ABS no funciona"], causes:["Sensor rueda sucio/da√±ado (polvo, barro)", "Cableado sensor roto", "Anillo reluctor da√±ado"], diagnosticSteps:["1. Escanear c√≥digos ABS.", "2. Inspeccionar/limpiar sensores rueda.", "3. Verificar cableado sensores.", "4. Verificar anillos reluctores."], solution:["Limpieza/reemplazo sensor rueda"], costoEstimado:"US$ 100 - $300 por sensor", searchTerms:"ford ranger luz abs control traccion sensor rueda", codes:["C1145", "C1155", "..."] },
        { id: 107, name: "Inyectores con Fugas Internas (3.2L)", initial: "Arranque dif√≠cil, humo blanco, nivel aceite SUBE.", modelosAplicables: ["Ford Ranger 3.2L", "Mazda BT-50 3.2L"], alertaSeguridad: "‚ö†Ô∏è Si nivel aceite sube, ¬°NO ARRANCAR! Riesgo motor desbocado.", symptoms: ["Arranque dif√≠cil (especialmente caliente)", "Humo blanco excesivo", "Nivel aceite sube", "Aceite huele a diesel", "Ralent√≠ inestable"], causes: ["Sellos internos inyector desgastados (Delphi)", "Alto kilometraje (+150k km)"], diagnosticSteps: ["1. ¬°Verificar nivel y OLOR aceite!", "2. Prueba retorno inyectores.", "3. Escanear c√≥digos.", "4. An√°lisis aceite (diluci√≥n)."], solution: ["Reemplazo URGENTE inyectores fugando", "Cambio aceite+filtro", "Usar inyectores Bosch (opcional, m√°s fiables)"], costoEstimado: "US$ 400 - US$ 700 por inyector", searchTerms: "inyector ford ranger 3.2 fuga interna nivel aceite sube", codes: ["P0201-P0205", "P0267"] },
        { id: 204, name: "Transmisi√≥n Autom√°tica (6R80/10R80)", initial:"Desgaste prematuro, falla mecatr√≥nica.", modelosAplicables: ["Ford Ranger (Autom√°tica)"], alertaSeguridad:"P√©rdida de tracci√≥n inesperada.", symptoms:["Cambios bruscos", "Patinamiento", "Sobrecalentamiento"], causes:["Uso extremo", "Aceite contaminado", "Falla cuerpo v√°lvulas/mecatr√≥nica"], diagnosticSteps:["1. Escanear c√≥digos TCM.", "2. Verificar nivel/condici√≥n aceite.", "3. Medir temperatura."], solution:["Overhaul", "Reemplazo mecatr√≥nica", "Cambio aceite+filtro"], costoEstimado:"US$ 2,000 - $6,000+", searchTerms:"transmision automatica ford ranger 6r80 10r80 falla", codes:["P07xx"] },
        { id: 205, name: "Falla Turbo (2.0L Bi-Turbo)", initial:"P√©rdida potencia, ruido turbo.", modelosAplicables: ["Ford Ranger 2.0L Bi-Turbo"], alertaSeguridad:"Detener si hay ruido met√°lico fuerte.", symptoms:["P√©rdida potencia", "Ruido silbido/met√°lico", "Humo"], causes:["Estr√©s t√©rmico", "Lubricaci√≥n deficiente", "Falla actuador"], diagnosticSteps:["1. Escanear c√≥digos.", "2. Inspeccionar turbos (juego, da√±o aspas).", "3. Verificar presi√≥n boost."], solution:["Reemplazo conjunto turbos"], costoEstimado:"US$ 2,500 - $5,000+", searchTerms:"ford ranger 2.0 biturbo falla perdida potencia", codes:["P0299", "P0234"] }
    ],
    l200: [
        { id: 301, name: "Bujes Suspensi√≥n Delantera", initial:"Ruido (golpe seco) en caminos irregulares.", modelosAplicables:["Mitsubishi L200"], alertaSeguridad:"P√©rdida de control si desgaste es severo.", symptoms:["Ruido 'clunk' al pasar baches", "Desgaste irregular neum√°ticos del."], causes:["Desgaste normal acelerado por uso rudo", "Bujes de mala calidad"], diagnosticSteps:["1. Inspecci√≥n visual bujes (grietas, deformaci√≥n).", "2. Verificar holgura con palanca."], solution:["Reemplazo de bujes", "Reemplazo de bandeja completa si alojamiento da√±ado"], costoEstimado:"US$ 150 - $400", searchTerms:"mitsubishi l200 bujes parrilla superior ruido", codes:[] },
        { id: 302, name: "Paquetes Resorte Traseros", initial:"Parte trasera baja, topa f√°cilmente.", modelosAplicables:["Mitsubishi L200"], symptoms:["Altura trasera disminuida", "Ballestas planas o invertidas", "Hojas rotas", "Rebote excesivo"], causes:["Carga constante excesiva", "Fatiga material", "Corrosi√≥n"], diagnosticSteps:["1. Inspecci√≥n visual paquetes resorte.", "2. Medir altura chasis.", "3. Verificar estado bujes ballesta."], solution:["Reemplazo paquetes resorte (originales o reforzados)", "A√±adir hoja de refuerzo ('macho')"], costoEstimado:"US$ 300 - $800", searchTerms:"mitsubishi l200 ballestas vencidas reforzar", codes:[] },
        { id: 104, name: "Filtro Part√≠culas DPF Obstruido", initial:"Luz DPF encendida, p√©rdida potencia severa.", modelosAplicables: ["Mitsubishi L200 (con DPF)"], alertaSeguridad: "No ignorar luz DPF, puede causar da√±os mayores.", symptoms: ["Luz DPF fija o parpadeando", "P√©rdida potencia (Modo Limp)", "Consumo elevado", "No supera 60-80 km/h", "Regeneraciones muy frecuentes"], causes: ["Uso urbano (trayectos cortos)", "Regeneraciones interrumpidas", "Combustible baja calidad", "Sensor presi√≥n diferencial DPF fallando", "Aceite incorrecto (NO Low SAPS)", "Inyectores goteando"], diagnosticSteps: ["1. Escanear nivel saturaci√≥n DPF.", "2. Medir presi√≥n diferencial (antes/despu√©s DPF).", "3. Revisar historial regeneraciones.", "4. Verificar temperatura gases escape.", "5. Comprobar inyectores."], solution: ["Regeneraci√≥n forzada con esc√°ner", "Limpieza profesional DPF", "Asegurar viajes carretera (>30 min @ >80km/h)", "Usar aceite 5W-30 ACEA C3/C4 (Low SAPS)", "Reemplazo DPF si muy da√±ado"], costoEstimado: "US$ 300 (limpieza) - US$ 2,500 (reemplazo)", searchTerms: "mitsubishi l200 dpf obstruido regeneracion forzada", codes: ["P2002", "P2453", "P242F"] },
        { id: 303, name: "Actuadores 4WD (Super-Select)", initial:"Luz 4WD parpadea, no acopla.", modelosAplicables:["Mitsubishi L200 (con Super-Select)"], symptoms:["Luz 4WD parpadea", "No entra 4H/4L", "A veces funciona intermitente", "Ruido al intentar acoplar"], causes:["Contaminaci√≥n (barro/agua) en actuadores/sensores transfer", "Falla solenoide vac√≠o", "Cableado da√±ado", "Fugas vac√≠o"], diagnosticSteps:["1. Escanear c√≥digos 4WD.", "2. Verificar fusibles.", "3. Probar actuadores/solenoides (aplicar vac√≠o/voltaje).", "4. Revisar mangueras vac√≠o.", "5. Limpiar conectores."], solution:["Reemplazo actuadores/solenoides", "Limpieza/reparaci√≥n conectores", "Reparaci√≥n mangueras vac√≠o"], costoEstimado:"US$ 250 - $700", searchTerms:"mitsubishi l200 super select parpadea no acopla 4x4", codes:["C14xx"] },
        { id: 304, name: "Fuga Ret√©n Trasero Cig√ºe√±al", initial:"Mancha de aceite entre motor y caja.", modelosAplicables:["Mitsubishi L200"], symptoms:["Goteo aceite motor bajo la campana de embrague/convertidor", "Nivel aceite motor baja"], causes:["Desgaste normal ret√©n acelerado por polvo", "Vibraci√≥n excesiva", "Instalaci√≥n incorrecta previa"], diagnosticSteps:["1. Confirmar que la fuga es aceite de motor.", "2. Requiere inspecci√≥n visual quitando tapas inferiores.", "3. Desmontaje parcial puede ser necesario."], solution:["Reemplazo ret√©n trasero cig√ºe√±al (requiere bajar caja cambios/transfer)"], costoEstimado:"US$ 50 (ret√©n) + US$ 500-1000 (mano obra)", searchTerms:"mitsubishi l200 fuga aceite reten cigue√±al trasero", codes:[] }
    ],
     np300: [
        { id: 401, name: "Suspensi√≥n Trasera Multilink", initial:"Parte trasera baja con carga.", modelosAplicables:["Nissan NP300/Navara (con Multilink)"], symptoms:["Altura trasera disminuida", "Topa f√°cilmente", "Inestable con carga", "Rebote excesivo"], causes:["Espirales ceden bajo carga constante (no dise√±ados para miner√≠a pesada)", "Amortiguadores desgastados"], diagnosticSteps:["1. Medir altura chasis (comparar con especificaci√≥n).", "2. Inspecci√≥n visual espirales/amortiguadores."], solution:["Reemplazar espirales por versi√≥n reforzada heavy-duty", "Reemplazar amortiguadores por versi√≥n de carga"], costoEstimado:"US$ 300 - $600 (espirales)", searchTerms:"nissan np300 navara suspension trasera baja multilink", codes:[] },
        { id: 402, name: "Volante Bi-Masa (Manual)", initial:"Vibraci√≥n/ruido al pasar cambios.", modelosAplicables:["Nissan NP300/Navara (Manual)"], symptoms:["Vibraci√≥n pedal embrague", "Ruido al embragar/desembragar", "Cambios dif√≠ciles", "Olor a embrague quemado"], causes:["Desgaste resortes internos volante bimasa", "Disco embrague gastado", "Collar√≠n da√±ado"], diagnosticSteps:["1. Probar embrague en diferentes condiciones.", "2. Escuchar ruidos.", "3. Diagn√≥stico requiere desmontaje."], solution:["Reemplazo kit embrague + volante bimasa"], costoEstimado:"US$ 800 - $1,500", searchTerms:"nissan np300 volante bimasa ruido vibracion embrague", codes:[] },
        { id: 403, name: "Fugas Aceite Motor (2.3L)", initial:"Manchas aceite en tapa v√°lvulas o enfriador.", modelosAplicables:["Nissan NP300/Navara 2.3L"], symptoms:["Goteo aceite", "Olor aceite quemado", "Nivel aceite baja"], causes:["Empaquetadura tapa v√°lvulas", "Sellos enfriador aceite", "Ret√©n cig√ºe√±al"], diagnosticSteps:["1. Limpiar motor.", "2. Identificar origen fuga tras operar."], solution:["Reemplazo empaquetaduras/sellos", "Reemplazo ret√©n (si aplica)"], costoEstimado:"US$ 100 - $400", searchTerms:"nissan np300 2.3 fuga aceite tapa valvulas enfriador", codes:[] },
        { id: 404, name: "Falla Sistema Bi-Turbo (2.3L)", initial:"P√©rdida potencia, ruido.", modelosAplicables:["Nissan NP300/Navara 2.3L"], alertaSeguridad:"Detener si hay ruido met√°lico fuerte.", symptoms:["P√©rdida potencia", "Ruido silbido/met√°lico", "Humo", "Check engine"], causes:["Falla actuador", "Falla uno de los turbos", "Contaminaci√≥n aceite", "Fugas mangueras"], diagnosticSteps:["1. Escanear c√≥digos.", "2. Inspeccionar turbos.", "3. Verificar presi√≥n boost.", "4. Verificar actuador."], solution:["Reemplazo actuador/conjunto turbos", "Reparaci√≥n fugas"], costoEstimado:"US$ 500 - $4,000+", searchTerms:"nissan np300 2.3 biturbo falla perdida potencia", codes:["P0299", "P0234"] }
    ],
    amarok: [
        { id: 501, name: "V√°lvula EGR Carbonizada", initial: "P√©rdida de potencia, humo negro, modo seguro.", modelosAplicables: ["Volkswagen Amarok 2.0L/3.0L TDI"], symptoms: ["P√©rdida potencia", "Humo negro", "Modo Limp", "Ralent√≠ irregular", "Consumo alto"], causes: ["Carbonizaci√≥n (trayectos cortos)", "Aceite incorrecto", "DPF saturado"], diagnosticSteps: ["1. Escanear c√≥digos P04xx.", "2. Inspecci√≥n visual EGR.", "3. Medir apertura EGR (0-100%).", "4. Verificar presi√≥n admisi√≥n."], solution: ["Limpieza qu√≠mica EGR", "Reemplazo EGR", "Limpieza m√∫ltiple admisi√≥n", "Usar aceite Low SAPS VW 507.00"], costoEstimado: "US$ 200 (limpieza) - US$ 800 (reemplazo)", searchTerms: "volkswagen amarok egr carbonizada perdida potencia", codes: ["P0401", "P0403", "P04DB"] },
        { id: 502, name: "Caja DSG (Doble Embrague)", initial: "Tirones al cambiar, vibraci√≥n, olor quemado.", modelosAplicables: ["Volkswagen Amarok (Autom√°tica DSG)"], symptoms: ["Tirones", "Vibraci√≥n arranque", "Olor quemado", "Cambios duros", "Patinamiento"], causes: ["Embragues desgastados", "Aceite DSG viejo", "Mecatr√≥nica defectuosa", "Software"], diagnosticSteps: ["1. Escanear c√≥digos transmisi√≥n.", "2. Medir temp. aceite DSG.", "3. Realizar adaptaciones (VCDS).", "4. Revisar nivel aceite (VW G052182)."], solution: ["Cambio aceite DSG (cada 60k km)", "Actualizaci√≥n software", "Reemplazo embragues", "Reemplazo mecatr√≥nica"], costoEstimado: "US$ 300 (aceite) - US$ 3,500+ (embragues/mecatr√≥nica)", searchTerms: "volkswagen amarok caja dsg tirones mecatronica", codes: ["P17xx", "P18xx"] }
    ],
    bt50: [
        { id: 601, name: "Sincronizaci√≥n Distribuci√≥n (3.2L)", initial: "Check engine, p√©rdida potencia, arranque dif√≠cil.", modelosAplicables: ["Mazda BT-50 3.2L (similar Ranger)"], symptoms: ["Check engine", "P√©rdida potencia", "Arranque dif√≠cil", "Humo anormal", "Ruido cadena"], causes: ["Cadena distribuci√≥n estirada", "Tensores defectuosos", "Sensores CMP/CKP"], diagnosticSteps: ["1. Escanear c√≥digos.", "2. Verificar sincronizaci√≥n (osciloscopio).", "3. Revisar holgura cadena.", "4. Verificar presi√≥n aceite."], solution: ["Reemplazo kit distribuci√≥n completo", "Verificar bomba aceite", "Usar aceite 5W-30 sint√©tico"], costoEstimado: "US$ 700 - US$ 1,200 + mano obra", searchTerms: "mazda bt-50 3.2 cadena distribucion ruido", codes: ["P0016", "P0340", "P0335"] },
        // Falla Inyectores 3.2L - similar a Ranger
        { id: 107, name: "Inyectores con Fugas Internas (3.2L)", initial: "Arranque dif√≠cil, humo blanco, nivel aceite SUBE.", modelosAplicables: ["Ford Ranger 3.2L", "Mazda BT-50 3.2L"], alertaSeguridad: "‚ö†Ô∏è Si nivel aceite sube, ¬°NO ARRANCAR! Riesgo motor desbocado.", symptoms: ["Arranque dif√≠cil (especialmente caliente)", "Humo blanco excesivo", "Nivel aceite sube", "Aceite huele a diesel", "Ralent√≠ inestable"], causes: ["Sellos internos inyector desgastados (Delphi)", "Alto kilometraje (+150k km)"], diagnosticSteps: ["1. ¬°Verificar nivel y OLOR aceite!", "2. Prueba retorno inyectores.", "3. Escanear c√≥digos.", "4. An√°lisis aceite (diluci√≥n)."], solution: ["Reemplazo URGENTE inyectores fugando", "Cambio aceite+filtro", "Usar inyectores Bosch (opcional, m√°s fiables)"], costoEstimado: "US$ 400 - US$ 700 por inyector", searchTerms: "inyector mazda bt-50 3.2 fuga interna nivel aceite sube", codes: ["P0201-P0205", "P0267"] }
    ],
    colorado: [
        { id: 701, name: "Sistema SCR y AdBlue", initial: "Luz AdBlue, countdown, no arranca.", modelosAplicables: ["Chevrolet Colorado/S10 2.8L Duramax"], alertaSeguridad: "Countdown 0 = NO ARRANCA.", symptoms: ["Luz AdBlue", "Countdown", "Modo seguro", "No arranca", "Consumo AdBlue anormal"], causes: ["Calentador AdBlue", "Inyector AdBlue obstruido", "Sensores NOx", "Cristalizaci√≥n", "Bomba AdBlue"], diagnosticSteps: ["1. Escanear c√≥digos.", "2. Verificar nivel/calidad AdBlue.", "3. Probar inyector AdBlue.", "4. Verificar calentador.", "5. Probar sensores NOx."], solution: ["Reemplazo calentador", "Limpieza/reemplazo inyector", "Usar AdBlue (ISO 22241)", "Reemplazo sensores NOx", "Reemplazo bomba"], costoEstimado: "US$ 200 (calentador) - US$ 800+ (sensor NOx)", searchTerms: "chevrolet colorado s10 adblue scr falla no arranca", codes: ["P20E8", "P204F"] }
    ],
    dmax: [
        { id: 801, name: "Bomba de Vac√≠o Defectuosa", initial: "Pedal de freno duro, turbo no responde bien.", modelosAplicables: ["Isuzu D-Max 3.0L"], alertaSeguridad: "Frenado reducido.", symptoms: ["Pedal freno duro", "Turbo lag", "EGR no funciona"], causes: ["Desgaste interno bomba vac√≠o", "Aceite contaminado", "Alto kilometraje"], diagnosticSteps: ["1. Medir vac√≠o en l√≠nea servofreno (< -0.6 bar).", "2. Inspeccionar bomba por fugas.", "3. Verificar l√≠neas vac√≠o."], solution: ["Reemplazo bomba vac√≠o", "Verificar/limpiar l√≠neas vac√≠o", "Cambio aceite regular"], costoEstimado: "US$ 150 - US$ 300", searchTerms: "isuzu dmax bomba vacio freno duro", codes: [] }
    ],
    // --- RETROEXCAVADORAS ---
    komatsu_wb: [
         { id: 201, name: "Bomba Hidr√°ulica T√°ndem", initial:"Movimientos lentos, cargador sin fuerza, ruido bomba.", modelosAplicables: ["WB93R-5", "WB97"], alertaSeguridad: "Alta presi√≥n hidr√°ulica.", symptoms: ["Movimientos lentos (brazo/cargador)", "Ruido cavitaci√≥n/chillido", "Temperatura aceite >85¬∞C", "Espuma aceite"], causes: ["Desgaste interno bomba (A o B)", "Filtro succi√≥n colapsado", "Aceite incorrecto/viejo", "Aire en sistema", "V√°lvula alivio mal calibrada"], diagnosticSteps: ["1. Medir presiones (Implementos: 3135 PSI, Direcci√≥n: 2175 PSI).", "2. Verificar caudal (44 L/min c/u @ 2200 RPM).", "3. Medir temp. aceite.", "4. Inspeccionar filtro succi√≥n/retorno.", "5. Verificar nivel aceite."], solution: ["Overhaul/reemplazo bomba t√°ndem", "Cambio aceite (Komatsu Genuine/ISO 46)", "Cambio filtro succi√≥n", "Calibrar v√°lvulas", "Limpieza tanque", "Purgar aire"], costoEstimado: "US$ 3,000 (Overhaul) - US$ 9,000 (Nueva)", searchTerms: "komatsu wb93r bomba hidraulica lenta ruido", codes: ["E04"] },
         { id: 202, name: "Transmisi√≥n Powershift", initial:"No entra reversa, desliza 2da/3ra, kickdown no funciona.", modelosAplicables: ["WB93R-5", "WB97"], symptoms: ["No entra R", "Desliza en FWD", "Kickdown inoperante", "Cambios bruscos", "Sobrecalentamiento (>100¬∞C)"], causes: ["Clutch packs desgastados", "Aceite quemado/bajo", "Solenoides cambio", "V√°lvula moduladora", "Convertidor torque", "Sensores velocidad"], diagnosticSteps: ["1. Escanear c√≥digos (KOMTRAX).", "2. Verificar nivel/condici√≥n aceite.", "3. Medir temp.", "4. Prueba stall (1ra: 2100 RPM, R: 2000 RPM).", "5. Verificar presi√≥n modulaci√≥n."], solution: ["Cambio aceite+filtro (Komatsu TO-4)", "Reemplazo solenoide", "Overhaul transmisi√≥n", "Reemplazo convertidor", "Ajuste modulaci√≥n"], costoEstimado: "US$ 400 (aceite) - US$ 18,000 (Overhaul)", searchTerms: "komatsu wb93r transmision patina no entra reversa", codes: ["E04", "E05", "E06"] },
         { id: 501, name: "Mandos Finales Ruidosos", initial:"Ruido met√°lico/vibraci√≥n en ruedas traseras.", modelosAplicables:["Komatsu WB93R-5", "WB97"], symptoms:["Ruido met√°lico (clunk, grrr)", "Vibraci√≥n", "P√©rdida tracci√≥n", "Fuga aceite cubos", "Sobrecalentamiento cubos"], causes:["Rodamientos planetarios desgastados", "Engranajes picados", "Aceite bajo/contaminado", "Sellos cubo da√±ados"], diagnosticSteps:["1. Levantar y girar ruedas (escuchar).", "2. Verificar nivel aceite (85W-140 GL-5).", "3. Revisar aceite drenado (metal).", "4. Medir temp. cubos."], solution:["Reemplazo rodamientos", "Reemplazo kit planetarios", "Rebuild mando final", "Cambio aceite", "Reemplazo sellos"], costoEstimado:"US$ 300 (aceite/sellos) - US$ 4,500 (Rebuild)", searchTerms:"komatsu wb93r mando final ruido planetario", codes:[] },
         { id: 2001, name: "Motor Komatsu - No arranca", initial: "El motor gira pero no enciende.", modelosAplicables: ["WB93R-5"], symptoms: ["Motor gira", "No hay humo", "No arranca"], causes: ["Bater√≠a descargada", "Aire en sistema combustible", "Fusible principal fundido", "Falla sensor cig√ºe√±al"], diagnosticSteps: ["1. Verificar voltaje bater√≠a (>12.4V).", "2. Purgar sistema combustible.", "3. Revisar fusibles.", "4. Verificar se√±al sensor cig√ºe√±al."], solution: ["Cargar/reemplazar bater√≠a", "Purgar combustible", "Reemplazar fusible", "Reemplazar sensor"], costoEstimado: "US$ 5 (fusible) - US$ 300 (bater√≠a)", searchTerms: "komatsu wb93r no arranca motor gira", codes: [] },
         { id: 2002, name: "Motor Komatsu - P√©rdida Potencia", initial: "M√°quina d√©bil, no sube pendientes, lenta.", modelosAplicables: ["WB93R-5"], symptoms: ["Sin fuerza", "Lenta", "Humo negro/blanco", "RPM no suben"], causes: ["Filtro aire obstruido", "Filtro combustible obstruido", "Inyectores sucios", "Bomba inyecci√≥n defectuosa", "Turbo fallando"], diagnosticSteps: ["1. Revisar filtro aire.", "2. Reemplazar filtro combustible.", "3. Verificar presi√≥n inyecci√≥n.", "4. Probar turbo (presi√≥n boost)."], solution: ["Limpiar/reemplazar filtros", "Limpiar/calibrar inyectores", "Revisar/reemplazar bomba", "Reparar/reemplazar turbo"], costoEstimado: "US$ 50 (filtros) - US$ 2,000+ (bomba/turbo)", searchTerms: "komatsu wb93r perdida potencia sin fuerza", codes: [] },
    ],
    cat_retro: [
         { id: 203, name: "Bomba Hidr√°ulica Pistones", initial:"Movimientos lentos, p√©rdida fuerza, ruido bomba.", modelosAplicables: ["416E", "420F", "430F"], symptoms: ["Lentitud general", "Sin fuerza excavaci√≥n", "Ruido chill√≥n/golpeteo", "Aceite caliente (>90¬∞C)", "Espuma aceite"], causes: ["Desgaste interno bomba", "Filtro hidr√°ulico saturado", "Aceite incorrecto/viejo (Usar HYDO Adv 10)", "Cavitaci√≥n", "V√°lvula alivio mal calibrada", "Acople bomba-motor"], diagnosticSteps: ["1. Medir presi√≥n principal (3000-3600 PSI).", "2. Medir presi√≥n piloto (500-700 PSI).", "3. Verificar temp. aceite.", "4. Inspeccionar filtros (part√≠culas metal).", "5. Prueba carga.", "6. Verificar RPM motor."], solution: ["Overhaul/reemplazo bomba", "Cambio aceite (CAT HYDO Adv 10) + filtros", "Limpieza tanque", "Purgar aire", "Calibrar v√°lvula alivio"], costoEstimado: "US$ 3,000 (Overhaul) - US$ 10,000 (Nueva)", searchTerms: "caterpillar 416e 420f bomba hidraulica lenta ruido", codes: ["094-03", "100-03"] },
         { id: 204, name: "Cilindros Hidr√°ulicos con Fugas", initial:"Brazos caen solos, fugas aceite en v√°stagos.", modelosAplicables: ["416E", "420F", "430F"], symptoms: ["Drift (ca√≠da)", "Fugas externas", "P√©rdida posici√≥n", "Consumo aceite hidr√°ulico"], causes: ["Sellos internos desgastados", "V√°stago rayado/picado", "Camisa da√±ada", "Aceite contaminado", "Sobrecalentamiento"], diagnosticSteps: ["1. Prueba drift (<50mm en 5 min aceptable).", "2. Inspecci√≥n visual v√°stagos.", "3. Verificar temp. cilindros.", "4. Revisar mangueras."], solution: ["Reemplazo kit sellos", "Cromado/pulido v√°stago", "Reemplazo cilindro", "Cambio aceite hidr√°ulico"], costoEstimado: "US$ 200 (sellos) - US$ 3,000 (cilindro nuevo)", searchTerms: "caterpillar 416e cilindro hidraulico fuga cae solo", codes: ["N/A"] },
         { id: 502, name: "Transmisi√≥n Powershift CAT", initial:"No entra velocidad, cambios duros, desliza.", modelosAplicables:["CAT 416E", "420F", "430F"], symptoms:["No entra F/R", "Golpe al cambiar", "Deslizamiento", "Sobrecalentamiento", "Ruido"], causes:["Nivel aceite bajo", "Filtro obstruido", "Clutch desgastado", "Solenoides cambio", "ECM transmisi√≥n"], diagnosticSteps:["1. Verificar nivel aceite (CAT TO-4).", "2. Escanear c√≥digos (CAT ET).", "3. Prueba stall.", "4. Medir presiones clutch.", "5. Verificar temp."], solution:["Cambio aceite+filtro", "Reemplazo solenoide", "Overhaul transmisi√≥n", "Actualizar software ECM"], costoEstimado:"US$ 400 (aceite) - US$ 15,000 (Overhaul)", searchTerms:"caterpillar 416e transmision powershift falla", codes:["077-03", "036-03"] },
         { id: 15, name: "Frenos d√©biles o esponjosos", initial: "El pedal de freno se siente suave o va al fondo.", modelosAplicables: ["CAT 416E/420F", "Case 580N", "Komatsu WB93R-5"], symptoms: ["Pedal esponjoso", "Frenado d√©bil", "Requiere bombear", "Fugas l√≠quido"], causes: ["Aire en sistema", "Cilindro maestro defectuoso", "Fugas en l√≠neas/cilindros rueda", "L√≠quido frenos viejo/contaminado"], diagnosticSteps: ["1. Verificar nivel l√≠quido frenos.", "2. Inspeccionar fugas.", "3. Probar dureza pedal.", "4. Verificar espesor pastillas/discos (si aplica)."], solution: ["Purgar sistema frenos", "Reemplazo cilindro maestro", "Reparar fugas", "Cambio l√≠quido frenos (DOT 3/4)"], costoEstimado: "US$ 100 (purga) - US$ 800 (cilindro maestro)", searchTerms: "retroexcavadora frenos esponjosos purgar", codes: [] },
         { id: 2101, name: "Motor CAT - No arranca", initial: "Motor no enciende, gira normal o lento.", modelosAplicables: ["CAT 416E", "420F"], symptoms: ["No arranca", "Gira lento", "Sin humo", "Bater√≠a OK"], causes: ["Aire en sistema combustible", "Filtros combustible obstruidos", "Bomba de levante fallando", "Solenoide corte combustible", "Falla sensor CKP/CMP"], diagnosticSteps: ["1. Purgar sistema combustible.", "2. Reemplazar filtros.", "3. Verificar bomba levante.", "4. Probar solenoide corte.", "5. Escanear c√≥digos (ET)."], solution: ["Purgar", "Cambiar filtros", "Reemplazar bomba levante/solenoide", "Reemplazar sensor"], costoEstimado: "US$ 80 (filtros) - US$ 500 (bomba/sensor)", searchTerms: "caterpillar 416e no arranca", codes: [] },
         { id: 2102, name: "Motor CAT - Sobrecalentamiento", initial: "Temperatura sube a zona roja, pierde refrigerante.", modelosAplicables: ["CAT 416E", "420F"], symptoms: ["Temperatura alta (>105¬∞C)", "P√©rdida refrigerante", "Humo blanco (vapor)", "Baja potencia"], causes: ["Radiador obstruido (externo/interno)", "Termostato trabado", "Bomba agua", "Tapa radiador (7 PSI)", "Correa ventilador floja"], diagnosticSteps: ["1. Limpiar radiador.", "2. Probar termostato (abre 82¬∞C).", "3. Inspeccionar bomba agua.", "4. Probar tapa radiador.", "5. Verificar correa."], solution: ["Limpiar/reemplazar radiador", "Reemplazar termostato/bomba/tapa", "Ajustar/reemplazar correa", "Flush sistema (CAT ELC)"], costoEstimado: "US$ 50 (tapa) - US$ 1,500 (radiador)", searchTerms: "caterpillar 416e sobrecalentamiento", codes: ["E230-2"] }
    ],
    jcb_3cx: [
        { id: 205, name: "Bomba Hidr√°ulica Triple", initial:"Movimientos lentos, direcci√≥n pesada, ruido bomba.", modelosAplicables: ["JCB 3CX", "4CX"], symptoms: ["Lentitud general", "Direcci√≥n dura", "Ruido chill√≥n", "Aceite caliente (>90¬∞C)"], causes: ["Desgaste bombas internas", "V√°lvula alivio descalibrada (3625 PSI)", "Filtro succi√≥n", "Aceite incorrecto (Usar JCB HP)", "Cavitaci√≥n"], diagnosticSteps: ["1. Medir presiones (Servicios: 3625 PSI, Direcci√≥n: 2755 PSI, Transm: 465 PSI).", "2. Verificar caudal (143 L/min total).", "3. Medir temp.", "4. Inspeccionar filtro.", "5. Medir presi√≥n carga (380 PSI)."], solution: ["Overhaul/reemplazo bomba triple", "Cambio aceite (JCB HP 46) + filtros", "Calibrar v√°lvulas", "Limpieza tanque", "Purgar"], costoEstimado: "US$ 4,000 (Overhaul) - US$ 11,000 (Nueva)", searchTerms: "jcb 3cx bomba hidraulica ruido lenta direccion dura", codes: ["Revisar manual JCB"] },
        { id: 1001, name: "Transmisi√≥n Powershift JCB", initial:"No entra ninguna velocidad, presi√≥n baja.", modelosAplicables:["JCB 3CX", "4CX"], symptoms:["No entra F/R", "Presi√≥n baja", "Solenoide ruidoso", "Display muestra 'N'"], causes:["Solenoide electrov√°lvula", "Filtro tapado", "Sensor marcha", "Clutch quemado", "V√°lvula secuenciadora", "ECU transmisi√≥n"], diagnosticSteps:["1. Escanear (JCB Service Master).", "2. Verificar presi√≥n (140-160 PSI).", "3. Medir voltaje solenoides (12V).", "4. Revisar nivel aceite."], solution:["Reemplazo solenoide", "Cambio aceite+filtro (JCB Special)", "Reemplazo sensor", "Overhaul", "Reprogramar ECU"], costoEstimado:"US$ 400 (solenoide) - $20,000 (Overhaul)", searchTerms:"jcb 3cx transmision no entra marcha solenoide", codes:["5228", "5225", "5230"] },
        { id: 1002, name: "Kingpost con Juego Excesivo", initial:"Movimiento lateral excavadora, ruido 'clonk'.", modelosAplicables:["JCB 3CX", "4CX"], symptoms:["Juego lateral >5mm", "Ruido", "Desgaste neum√°ticos", "Inestabilidad"], causes:["Bujes kingpost", "Rodamiento thrust", "Falta lubricaci√≥n", "Perno central flojo"], diagnosticSteps:["1. Medir juego.", "2. Inspeccionar grietas.", "3. Verificar lubricaci√≥n.", "4. Revisar apriete perno (1150 Nm)."], solution:["Reemplazo bujes", "Reemplazo rodamiento", "Rebuild kingpost", "Re-torque perno"], costoEstimado:"US$ 600 (bujes) - $7,000 (Rebuild)", searchTerms:"jcb 3cx kingpost juego holgura", codes:[] },
         { id: 2003, name: "Motor JCB EcoMax - DPF Saturado", initial: "Luz DPF, p√©rdida potencia, regeneraciones frecuentes.", modelosAplicables: ["JCB 3CX", "4CX (EcoMax)"], symptoms: ["Luz DPF", "Modo Limp", "Regeneraciones frecuentes", "Consumo alto", "No pasa 1500 RPM"], causes: ["Uso urbano", "Regeneraciones fallidas", "Aceite no Low SAPS", "Sensor presi√≥n DPF"], diagnosticSteps: ["1. Leer saturaci√≥n DPF (Service Master).", "2. Verificar historial.", "3. Medir presi√≥n diferencial.", "4. Verificar inyector 5to."], solution: ["Regeneraci√≥n forzada", "Limpieza DPF", "Asegurar viajes carretera", "Usar aceite Low SAPS (10W40 E9)", "Reemplazo DPF"], costoEstimado: "US$ 500 (limpieza) - US$ 4,000 (reemplazo)", searchTerms: "jcb 3cx ecomax dpf saturado", codes: ["3606", "3607", "3610"] }
    ],
     case_580: [
        { id: 1101, name: "Transmisi√≥n Carraro", initial:"Deslizamiento, cambios duros, no avanza.", modelosAplicables:["Case 580N", "590SN"], symptoms:["Desliza", "Cambios duros", "Ruido", "Sobrecalentamiento", "No avanza"], causes:["Clutch packs", "Aceite (Hy-Tran Ultra bajo/quemado)", "Convertidor", "Filtro", "Bomba transmisi√≥n", "V√°lvula prioridad"], diagnosticSteps:["1. Verificar nivel/condici√≥n aceite.", "2. Medir temp.", "3. Prueba stall (1ra: 2200 RPM, R: 2100 RPM).", "4. Escanear (CNH EST).", "5. Medir presiones clutch (170-185 PSI)."], solution:["Cambio aceite+filtro (Hy-Tran Ultra)", "Reemplazo clutch", "Overhaul", "Reemplazo convertidor", "Rebuild bomba"], costoEstimado:"US$ 500 (aceite) - $25,000 (Overhaul)", searchTerms:"case 580n transmision carraro patina", codes:["Consultar CNH EST"] },
        { id: 1102, name: "Bomba Hidr√°ulica Dual con Cavitaci√≥n", initial:"Ruido chill√≥n/golpeteo, movimientos err√°ticos.", modelosAplicables:["Case 580N", "590SN"], symptoms:["Ruido", "Movimientos err√°ticos", "P√©rdida fuerza", "Temp. >85¬∞C", "Espuma aceite"], causes:["Filtro succi√≥n", "Nivel aceite bajo", "Aceite fr√≠o/viscoso", "Aire", "Desgaste bombas", "Acoples sueltos"], diagnosticSteps:["1. Medir presiones (3300-3625 PSI).", "2. Verificar caudal (38 L/min c/u).", "3. Medir temp.", "4. Inspeccionar filtro succi√≥n.", "5. Verificar nivel."], solution:["Overhaul/reemplazo bomba", "Cambio aceite (Hy-Tran/ISO 46) + filtros", "Limpieza tanque", "Purgar aire"], costoEstimado:"US$ 3,000 (Overhaul) - $10,000 (Nueva)", searchTerms:"case 580n bomba hidraulica ruido cavitacion", codes:[] },
        { id: 2201, name: "Motor Cummins 4BT - Sobrecalentamiento", initial: "Temperatura excede 105¬∞C, ebullici√≥n.", modelosAplicables: ["Case 580N", "590SN"], symptoms: ["Temp. >105¬∞C", "P√©rdida potencia", "Ebullici√≥n", "Ventilador constante"], causes: ["Radiador obstruido", "Termostato trabado (82¬∞C)", "Bomba agua", "Tapa radiador (15 PSI)", "Correa floja", "Junta culata"], diagnosticSteps: ["1. Verificar temp. (ET/Esc√°ner).", "2. Probar termostato.", "3. Medir presi√≥n sistema.", "4. Inspeccionar radiador/bomba.", "5. Probar tapa.", "6. Tensi√≥n correa.", "7. Prueba gases en refrigerante."], solution: ["Limpiar/reemplazar radiador", "Reemplazar termostato/bomba/tapa/correa", "Flush sistema (Fleetguard ES)", "Reemplazar junta culata"], costoEstimado: "US$ 50 (termostato) - US$ 3,000 (junta culata)", searchTerms: "case 580n cummins 4bt sobrecalentamiento", codes: [] },
         { id: 2202, name: "Kingpost con Juego Excesivo", initial: "Movimiento lateral excavadora > 5mm, ruido.", modelosAplicables: ["Case 580N", "590SN"], symptoms: ["Juego > 3-5mm", "Ruido", "Desgaste neum√°ticos", "Inestabilidad"], causes: ["Bujes", "Rodamiento thrust", "Perno central", "Falta lubricaci√≥n"], diagnosticSteps: ["1. Medir juego.", "2. Verificar lubricaci√≥n.", "3. Revisar apriete perno (950-1050 Nm).", "4. Inspeccionar grietas."], solution: ["Reemplazo bujes/rodamiento", "Reemplazo perno", "Rebuild kingpost", "Re-torque perno"], costoEstimado: "US$ 500 (bujes) - US$ 6,500 (Rebuild)", searchTerms: "case 580n kingpost juego holgura", codes: [] }
    ],
    nh_retro: [
         { id: 3001, name: "Motor FPT (Iveco) - Sistema EGR Carbonizado", initial: "P√©rdida potencia, humo negro, modo seguro.", modelosAplicables: ["New Holland B90B", "B95B", "B110B"], symptoms: ["P√©rdida potencia", "Humo negro", "Modo Limp", "Ralent√≠ inestable", "Consumo alto", "Check engine"], causes: ["V√°lvula EGR carbonizada", "Enfriador EGR obstruido", "Aceite incorrecto (Low SAPS)", "Sensor MAP sucio", "Turbo back-pressure", "DPF saturado"], diagnosticSteps: ["1. Escanear (CNH EST).", "2. Verificar apertura EGR (0-100%).", "3. Medir temp. gases EGR.", "4. Medir presi√≥n admisi√≥n.", "5. Inspeccionar EGR.", "6. Verificar DPF."], solution: ["Limpieza qu√≠mica EGR/enfriador", "Reemplazo EGR", "Limpieza m√∫ltiple", "Reemplazo sensor MAP", "Regenerar DPF", "Usar aceite Low SAPS"], costoEstimado: "US$ 300 (limpieza) - US$ 1,200 (reemplazo)", searchTerms: "new holland b90b fpt iveco egr falla", codes: ["P0401", "P0403", "P0405"] },
         { id: 3002, name: "Cilindros Estabilizadores (Outriggers) con Fugas", initial: "Estabilizadores se retraen solos, fugas.", modelosAplicables: ["New Holland B90B", "B95B", "B110B"], symptoms: ["Se retraen", "Fugas v√°stago", "M√°quina se hunde", "Inestable"], causes: ["Sellos v√°stago/pist√≥n", "V√°stago rayado", "V√°lvula retenci√≥n", "Mangueras"], diagnosticSteps: ["1. Prueba retenci√≥n bajo carga (no debe bajar en 10 min).", "2. Inspecci√≥n v√°stagos.", "3. Verificar v√°lvulas retenci√≥n."], solution: ["Reemplazo kit sellos", "Cromado v√°stago", "Reemplazo cilindro", "Rebuild v√°lvula", "Reemplazo mangueras"], costoEstimado: "US$ 150 (sellos) - US$ 2,200 (cilindro)", searchTerms: "new holland b90b estabilizador fuga cae", codes: [] },
         { id: 3003, name: "Bomba Hidr√°ulica Rexroth - P√©rdida Caudal", initial: "Movimientos lentos, aceite caliente.", modelosAplicables: ["New Holland B90B", "B95B", "B110B"], symptoms: ["Lentitud", "Cargador sin fuerza", "Temp. >85¬∞C", "Ruido cavitaci√≥n", "Direcci√≥n pesada"], causes: ["Desgaste bomba (plato/pistones)", "V√°lvula compensadora", "Filtro succi√≥n", "Aceite degradado", "Entrada aire"], diagnosticSteps: ["1. Medir presiones (Impl: 3625 PSI, Dir: 2610 PSI).", "2. Verificar caudal (140 L/min).", "3. Medir temp.", "4. Inspeccionar filtro.", "5. Medir presi√≥n carga (380 PSI)."], solution: ["Overhaul/reemplazo bomba", "Cambio aceite (NH 410B/ISO 46) + filtros", "Calibrar compensadora", "Limpieza tanque", "Purgar"], costoEstimado: "US$ 4,000 (Overhaul) - US$ 12,000 (Nueva)", searchTerms: "new holland b90b bomba hidraulica rexroth lenta", codes: [] }
    ],
    // --- EXCAVADORAS ---
    cat_320: [
         { id: 9, name: "Bomba Hidr√°ulica Principal Ruidosa", initial:"Ruido fuerte (gemido, chillido, martilleo).", modelosAplicables: ["320D", "320E", "320F"], symptoms: ["Ruido bomba", "Lentitud", "Aceite caliente >80¬∞C", "Cavitaci√≥n", "Movimientos irregulares", "Espuma"], causes: ["Desgaste interno", "Filtro piloto obstruido", "Aceite incorrecto/viejo", "Regulador descalibrado", "Entrada aire", "Acople motor"], diagnosticSteps: ["1. Medir presiones (P1/P2: 5075 PSI, Piloto: 570 PSI).", "2. Verificar caudal (245 L/min c/u).", "3. Medir temp.", "4. Inspeccionar filtro retorno (metal).", "5. Medir presi√≥n carga (550 PSI).", "6. Analizar aceite."], solution: ["Overhaul/reemplazo bomba", "Cambio aceite (HYDO Adv 10) + filtros", "Limpieza tanque", "Calibrar regulador", "Purgar", "Ajustar acople"], costoEstimado: "US$ 6,000 (Overhaul) - $18,000 (Nueva)", searchTerms: "caterpillar 320d bomba hidraulica ruido lenta", codes: ["094-03"] },
         { id: 10, name: "Motor de Giro (Swing) sin Fuerza", initial:"Torreta gira despacio, no gira con carga.", modelosAplicables: ["320D", "320E", "320F"], symptoms: ["Giro lento (<7 RPM)", "No gira con carga", "Ruido met√°lico", "Fugas motor swing", "Sobrecalentamiento", "Freno trabado"], causes: ["Desgaste motor", "Freno swing trabado", "V√°lvula control swing", "Filtro swing", "Presi√≥n baja", "Rodamiento pi√±√≥n"], diagnosticSteps: ["1. Medir presi√≥n swing (5075 PSI).", "2. Verificar velocidad giro.", "3. Inspeccionar freno (gap 2-3mm).", "4. Revisar nivel aceite motor swing.", "5. Medir temp."], solution: ["Overhaul/reemplazo motor swing", "Ajuste/rebuild freno", "Rebuild v√°lvula control", "Reemplazo pi√±√≥n", "Cambio aceite/filtro"], costoEstimado: "US$ 4,000 (Overhaul) - $14,000 (Nuevo)", searchTerms: "caterpillar 320d motor giro swing lento sin fuerza", codes: [] },
         { id: 16, name: "Tren de Rodaje Ruidoso o Flojo", initial:"Ruido met√°lico al avanzar, cadenas golpean.", modelosAplicables: ["320D", "320E", "320F"], symptoms: ["Ruido", "Vibraci√≥n", "Cadenas flojas/tensas", "Rodillos con juego/fugas", "Sprockets afilados", "Zapatas desgastadas"], causes: ["Falta lubricaci√≥n", "Tensi√≥n incorrecta", "Desgaste rodillos/ruedas/sprockets", "Terreno abrasivo", "Alto horaje"], diagnosticSteps: ["1. Medir tensi√≥n cadena (30-55mm flecha).", "2. Inspeccionar rodillos (fugas, juego <3mm).", "3. Medir desgaste sprockets.", "4. Inspeccionar zapatas (garra >35mm).", "5. Verificar ruedas gu√≠a.", "6. Revisar tensor."], solution: ["Ajustar tensi√≥n", "Reemplazo rodillos/ruedas/sprockets", "Reemplazo cadenas", "Reemplazo zapatas", "Overhaul tensor"], costoEstimado: "US$ 500 (rodillo) - $55,000 (Overhaul completo)", searchTerms: "caterpillar 320d tren rodaje cadena rodillo desgaste", codes: [] },
         { id: 601, name: "Motor Diesel C6.6/C7.1 - Inyectores", initial:"Humo blanco, p√©rdida potencia, ralent√≠ irregular, diluci√≥n aceite.", modelosAplicables:["CAT 320D2", "320E", "320F"], alertaSeguridad: "‚ö†Ô∏è Si nivel aceite sube, PARAR.", symptoms: ["Humo blanco (arranque)", "P√©rdida potencia", "Ralent√≠ inestable", "Consumo alto", "Arranque dif√≠cil fr√≠o", "Nivel aceite sube"], causes: ["Inyectores common rail (fuga interna)", "Sellos inyector", "Bomba HP", "Combustible contaminado"], diagnosticSteps: ["1. Escanear c√≥digos (ET).", "2. Prueba balance cilindros.", "3. Medir retorno inyectores.", "4. ¬°VERIFICAR NIVEL ACEITE!", "5. Revisar filtros (agua/metal)."], solution: ["Reemplazo inyectores", "Calibraci√≥n con ET", "Cambio aceite si diluido", "Cambio filtros", "Limpieza sistema si contaminado"], costoEstimado: "US$ 700 - $1,400 por inyector", searchTerms: "cat 320d inyector falla humo blanco dilucion aceite", codes: ["253-02", "349-03", "1347-03", "1569-31"] },
         { id: 1201, name: "V√°lvula Control Principal con Fugas Internas", initial:"Movimientos m√∫ltiples, brazos caen, aceite caliente.", modelosAplicables:["CAT 320D", "320E", "320F"], symptoms:["Movimientos cruzados", "Drift brazos (>50mm/5min cr√≠tico)", "P√©rdida fuerza", "Sobrecalentamiento"], causes:["Spools desgastados", "Sellos spool", "Resortes d√©biles", "Cuerpo rayado", "Contaminaci√≥n"], diagnosticSteps:["1. Prueba drift.", "2. Verificar movimientos cruzados.", "3. Medir temp.", "4. Analizar aceite.", "5. Revisar presiones puerto."], solution:["Overhaul v√°lvula", "Reemplazo v√°lvula", "Cambio aceite+filtros", "Flush sistema"], costoEstimado:"US$ 8,000 (Overhaul) - $40,000 (Nueva)", searchTerms:"cat 320d valvula control principal fuga interna drift", codes:[] }
    ],
    komatsu_pc200: [
        { id: 701, name: "Bomba Hidr√°ulica K3V con Cavitaci√≥n", initial:"Ruido golpeteo, movimientos err√°ticos, aceite caliente/espumoso.", modelosAplicables:["PC200-8", "PC210LC-10"], alertaSeguridad:"Parar si ruido es fuerte.", symptoms:["Ruido martilleo", "Movimientos err√°ticos", "Temp. >85¬∞C", "Espuma aceite", "Lentitud"], causes:["Filtro succi√≥n colapsado", "Nivel aceite bajo", "Aceite muy fr√≠o/viscoso", "Entrada aire", "Respiradero tanque tapado"], diagnosticSteps:["1. Inspeccionar filtro succi√≥n.", "2. Verificar nivel aceite.", "3. Medir temp. aceite.", "4. Verificar respiradero.", "5. Revisar aceite por espuma."], solution:["Reemplazo filtro succi√≥n", "Corregir nivel aceite (Komatsu HO/ISO 46)", "Limpiar respiradero", "Cambio aceite si degradado", "Overhaul bomba si da√±ada"], costoEstimado:"US$ 150 (filtro) - US$ 17,000 (bomba)", searchTerms:"komatsu pc200 bomba hidraulica cavitacion ruido", codes:[] },
        { id: 702, name: "Motor Giro con Freno Trabado", initial:"No gira o muy lento, ruido arrastre.", modelosAplicables:["PC200-8", "PC210LC-10"], symptoms:["No gira/lento", "Ruido arrastre", "Sobrecalentamiento motor giro", "Olor quemado", "Motor se detiene al intentar girar"], causes:["Pistones freno oxidados", "Resortes freno rotos", "Falta presi√≥n liberaci√≥n", "V√°lvula liberaci√≥n", "Disco freno desgastado", "Solenoide freno"], diagnosticSteps:["1. Verificar presi√≥n liberaci√≥n freno (20-30 bar).", "2. Medir corriente solenoide (12V).", "3. Inspeccionar pistones freno.", "4. Medir gap disco (0.3-0.5mm)."], solution:["Limpieza/lubricaci√≥n pistones", "Reemplazo kit freno", "Reemplazo solenoide", "Rebuild v√°lvula", "Ajuste gap"], costoEstimado:"US$ 400 (kit freno) - US$ 5,500 (Overhaul motor)", searchTerms:"komatsu pc200 freno giro trabado no gira", codes:[] },
        { id: 1301, name: "Motor Komatsu SAA6D107E - Turbo VGT", initial:"P√©rdida potencia variable, modo seguro, humo negro intermitente.", modelosAplicables:["PC200-8", "PC210LC-10"], symptoms:["P√©rdida potencia", "Modo Limp", "Humo negro", "C√≥digo turbo", "Actuador ruidoso"], causes:["Actuador VGT", "Mecanismo VGT carbonizado", "Sensor posici√≥n", "Aletas trabadas", "Calibraci√≥n perdida"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar posici√≥n actuador (0-100%).", "3. Medir boost (180-220 kPa).", "4. Prueba actuador.", "5. Inspecci√≥n visual."], solution:["Limpieza mecanismo VGT", "Reemplazo actuador", "Reemplazo sensor", "Calibraci√≥n", "Reemplazo turbo"], costoEstimado:"US$ 600 (actuador) - $7,000 (turbo)", searchTerms:"komatsu pc200 turbo vgt falla actuador", codes:["E209", "E210", "E211"] }
    ],
    volvo_ec210: [
        { id: 1401, name: "Sistema Hidr√°ulico ACS - P√©rdida Eficiencia", initial:"Movimientos lentos bajo carga, consumo alto.", modelosAplicables:["Volvo EC210B", "EC240C"], symptoms:["Lentitud", "Consumo alto", "Temp. >80¬∞C", "Ventilador siempre activo"], causes:["Modo trabajo incorrecto", "Bomba no regula", "V√°lvulas ACS descalibradas", "Sensores presi√≥n", "Software ECU"], diagnosticSteps:["1. Escanear (VCADS).", "2. Verificar modo trabajo.", "3. Medir presiones/temp.", "4. Prueba funciones.", "5. Verificar calibraci√≥n."], solution:["Recalibrar ACS (VCADS)", "Actualizar software", "Reemplazo sensores", "Overhaul bomba", "Cambio aceite (Volvo Hyd Oil)"], costoEstimado:"US$ 300 (calibraci√≥n) - $9,000 (bomba)", searchTerms:"volvo ec210 acs hidraulico lento", codes:["Consultar VCADS"] },
        { id: 1402, name: "Motor Volvo D6E/D7E - Sistema SCR/AdBlue", initial:"Luz AdBlue, countdown, p√©rdida potencia, no arranca.", modelosAplicables:["Volvo EC210B", "EC240C", "A40G"], alertaSeguridad:"Countdown 0 = NO ARRANCA.", symptoms:["Luz AdBlue", "Countdown", "Potencia reducida", "No arranca", "Consumo AdBlue anormal", "Cristalizaci√≥n"], causes:["Tanque vac√≠o", "AdBlue mala calidad", "Inyector obstruido", "Calentador", "Sensores NOx", "Bomba AdBlue"], diagnosticSteps:["1. Escanear (VCADS).", "2. Leer countdown.", "3. Verificar nivel/calidad AdBlue.", "4. Probar dosificaci√≥n.", "5. Inspeccionar inyector.", "6. Verificar calentador/sensores."], solution:["Rellenar (ISO 22241)", "Reemplazo inyector", "Limpieza sistema", "Reemplazo calentador", "Reemplazo sensores NOx", "Reemplazo bomba", "Reset countdown (VCADS)"], costoEstimado:"US$ 5 (AdBlue) - $4,000+ (Sensores NOx)", searchTerms:"volvo ec210 adblue scr falla countdown", codes:["P20E8", "P204F", "..."] }
    ],
    hitachi_zx200: [
         { id: 4001, name: "Hidr√°ulico - Lentitud / Brusquedad", initial:"M√°quina lenta o movimientos bruscos.", modelosAplicables:["Hitachi ZX200-5G"], symptoms:["Lenta", "Brusca", "No suave"], causes:["Desgaste v√°lvulas control flujo", "Bombas piloto", "Aceite incorrecto"], diagnosticSteps:["1. Medir tiempos ciclo.", "2. Verificar presiones piloto.", "3. Calibrar v√°lvulas (si aplica).", "4. Analizar aceite."], solution:["Calibraci√≥n/reemplazo v√°lvulas control", "Revisar/reemplazar bombas piloto", "Cambio aceite (Hitachi Genuine/ISO 46)"], costoEstimado:"$1,000 - $5,000+", searchTerms:"hitachi zx200 hidraulico lento brusco", codes:[] },
         { id: 4002, name: "Enfriadores Aceite Hidr√°ulico", initial:"Aceite hidr√°ulico se sobrecalienta.", modelosAplicables:["Hitachi ZX200-5G"], symptoms:["Temp. aceite > 85¬∞C", "Alarma temperatura", "P√©rdida viscosidad aceite"], causes:["Enfriadores (radiadores) tapados con polvo/barro", "Ventilador no funciona", "Bypass enfriador trabado"], diagnosticSteps:["1. Inspecci√≥n visual enfriadores.", "2. Verificar funcionamiento ventilador.", "3. Medir temp. entrada/salida enfriador."], solution:["Limpieza a presi√≥n enfriadores", "Reparar/reemplazar ventilador", "Revisar v√°lvula bypass"], costoEstimado:"$200 - $1,500", searchTerms:"hitachi zx200 sobrecalentamiento aceite hidraulico", codes:[] }
         // Faltan datos m√°s espec√≠ficos para Hitachi en los manuales proporcionados
    ],
    // --- CARGADORES ---
    cat_950_966: [
        { id: 11, name: "Transmisi√≥n Powershift Desliza", initial:"RPM suben pero m√°quina no avanza, cambios bruscos.", modelosAplicables: ["950H", "966H", "972H"], symptoms: ["Deslizamiento (slip)", "Cambios bruscos", "Olor quemado", "Temp. >120¬∞C", "Modo Limp"], causes: ["Clutch packs", "Aceite (TO-4 bajo/quemado)", "Filtro", "Modulaci√≥n incorrecta", "Convertidor", "Solenoides"], diagnosticSteps: ["1. Escanear (ET).", "2. Verificar temp/presi√≥n/RPM/slippage.", "3. Prueba stall.", "4. Verificar nivel/condici√≥n aceite.", "5. Medir modulaci√≥n."], solution: ["Cambio aceite+filtros (CAT TO-4)", "Reemplazo clutch pack", "Overhaul transmisi√≥n", "Reemplazo convertidor", "Flush enfriador", "Reemplazo solenoide", "Calibrar (ET)"], costoEstimado: "US$ 800 (aceite) - $45,000 (Overhaul)", searchTerms: "caterpillar 966h transmision patina desliza", codes: ["Consultar ET"] },
        { id: 801, name: "Bomba Hidr√°ulica Implementos Ruidosa", initial:"Ruido agudo/chillido, levante lento.", modelosAplicables:["950H", "966H", "972H"], symptoms:["Ruido bomba", "Levante/Tilt lento", "Aceite caliente (>90¬∞C)", "Cavitaci√≥n", "Espuma aceite"], causes:["Desgaste interno bomba", "Filtro carga obstruido", "Aceite incorrecto (HYDO Adv 10)", "V√°lvula alivio mal calibrada (5000 PSI)", "Entrada aire", "Nivel bajo"], diagnosticSteps:["1. Medir presiones (Lift/Tilt: 5000 PSI).", "2. Verificar caudal (285-380 L/min).", "3. Medir temp.", "4. Inspeccionar filtro carga.", "5. Verificar presi√≥n carga (420-520 PSI).", "6. Revisar nivel."], solution:["Overhaul/reemplazo bomba", "Cambio aceite (HYDO Adv 10) + filtros", "Limpieza tanque", "Calibrar v√°lvula", "Purgar"], costoEstimado:"US$ 6,000 (Overhaul) - US$ 22,000 (Nueva)", searchTerms:"caterpillar 966h bomba hidraulica ruido lenta", codes:[] },
        { id: 1501, name: "Motor C11/C13 - Sistema Combustible", initial:"P√©rdida potencia, humo, consumo alto, arranque dif√≠cil.", modelosAplicables:["CAT 966H", "972H"], alertaSeguridad:"‚ö†Ô∏è Metal en filtro = PARAR.", symptoms:["P√©rdida potencia", "Humo blanco/negro", "Consumo >30 L/h", "Arranque dif√≠cil", "Ralent√≠ inestable", "Check engine"], causes:["Inyectores (fuga/sucios)", "Bomba HP", "Filtros", "Combustible contaminado", "Sensor presi√≥n", "V√°lvula FCV"], diagnosticSteps:["1. Escanear (ET).", "2. Prueba balance cilindros.", "3. Medir retorno inyectores.", "4. ¬°Revisar filtros (metal/agua)!", "5. Medir presi√≥n riel."], solution:["Reemplazo inyectores + calibraci√≥n", "Reemplazo bomba HP", "Cambio filtros", "Limpieza sistema si contaminado"], costoEstimado:"US$ 800/inyector - $15,000+ (si hay metal)", searchTerms:"cat 966h c11 c13 inyector falla bomba hp", codes:["253-02", "349-03", "1347-03", "94-03"] },
        { id: 2301, name: "Eje Delantero Ruidoso", initial:"Ruido met√°lico al girar, vibraci√≥n volante.", modelosAplicables:["CAT 950H", "966H", "972H"], symptoms:["Ruido giro", "Vibraci√≥n", "Desgaste neum√°ticos", "Juego direcci√≥n", "Fugas cubos", "Sobrecalentamiento"], causes:["Rodamientos planetarios", "Engranajes diferencial", "Rodamientos rueda", "Aceite eje bajo/sucio", "Articulaci√≥n central"], diagnosticSteps:["1. Levantar y girar ruedas.", "2. Verificar nivel aceite (CAT GO 50/80W90).", "3. Revisar aceite drenado (metal).", "4. Medir temp.", "5. Verificar articulaci√≥n."], solution:["Reemplazo rodamientos", "Reemplazo kit diferencial", "Overhaul eje", "Cambio aceite", "Reemplazo sellos"], costoEstimado:"US$ 500 (rodamiento) - $30,000 (Overhaul)", searchTerms:"cat 966h eje delantero ruido diferencial", codes:[] },
        { id: 4101, name: "Transmisi√≥n ECPC - Cambios Bruscos", initial:"'Golpes' al pasar cambios (1ra-2da).", modelosAplicables:["CAT 992K", "993K"], symptoms:["Golpe cambio", "Patinamiento leve"], causes:["Descalibraci√≥n v√°lvulas ECPC", "Desgaste discos"], diagnosticSteps:["1. Calibraci√≥n transmisi√≥n con ET.", "2. Revisar presiones clutch.", "3. An√°lisis aceite."], solution:["Calibraci√≥n", "Overhaul transmisi√≥n si persiste"], costoEstimado:"$500 (calibraci√≥n) - $50,000+ (Overhaul)", searchTerms:"cat 992k 993k transmision ecpc golpe cambio", codes:[] },
        { id: 4102, name: "Radiador Modular AMOCS/NGMR - Fugas", initial:"Fuga refrigerante en una secci√≥n.", modelosAplicables:["CAT 992K", "993K"], symptoms:["P√©rdida refrigerante", "Sobrecalentamiento"], causes:["Vibraci√≥n", "Ciclos t√©rmicos", "Corrosi√≥n"], diagnosticSteps:["1. Identificar secci√≥n con fuga.", "2. Prueba presi√≥n sistema."], solution:["Reemplazo secci√≥n (panel) radiador da√±ada"], costoEstimado:"$2,000 - $5,000 por secci√≥n", searchTerms:"cat 992k radiador amocs ngmr fuga", codes:[] }
    ],
    komatsu_wa380: [
        { id: 2401, name: "Transmisi√≥n HST - P√©rdida Potencia", initial:"Velocidad m√°xima reducida, sin fuerza en pendientes.", modelosAplicables:["WA320", "WA380", "WA470"], symptoms:["Lento", "Sin fuerza", "Ruido whine", "Temp. HST >110¬∞C", "Espuma aceite"], causes:["Bomba HST", "Motor HST", "V√°lvula carga", "Aceite (TO-4 bajo/quemado)", "Filtro HST", "Enfriador", "V√°lvula alivio"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar temp/presi√≥n HST/carga.", "3. Prueba velocidad.", "4. Verificar nivel/condici√≥n aceite."], solution:["Overhaul/reemplazo bomba/motor HST", "Cambio aceite+filtro (Komatsu TO-4)", "Limpieza enfriador", "Calibrar v√°lvula", "Rebuild v√°lvula carga"], costoEstimado:"US$ 800 (aceite) - $25,000+ (bomba/motor)", searchTerms:"komatsu wa380 hst perdida potencia lenta", codes:["Consultar KOMTRAX"] },
        { id: 2402, name: "Bomba Hidr√°ulica T√°ndem Trabajos", initial:"Ruido cavitaci√≥n, levante/tilt lentos.", modelosAplicables:["WA320", "WA380", "WA470"], symptoms:["Ruido", "Lentitud", "Temp. >85¬∞C", "Movimientos err√°ticos", "Espuma"], causes:["Desgaste bomba", "Filtro piloto", "Aceite degradado", "V√°lvula reguladora", "Entrada aire", "Nivel bajo"], diagnosticSteps:["1. Medir presiones (Implementos: 4970 PSI, Steering: 2990 PSI).", "2. Verificar caudal.", "3. Medir temp.", "4. Inspeccionar filtro piloto.", "5. Verificar presi√≥n carga."], solution:["Overhaul/reemplazo bomba", "Cambio aceite (Komatsu Hyd/ISO 46) + filtros", "Limpieza tanque", "Calibrar v√°lvulas"], costoEstimado:"US$ 7,000 (Overhaul) - $24,000 (Nueva)", searchTerms:"komatsu wa380 bomba hidraulica ruido lenta", codes:[] },
        { id: 4201, name: "Monitor VHMS / Sensores Transmisi√≥n", initial:"Fallas monitor cabina, sensores err√°ticos.", modelosAplicables:["Komatsu WA900", "WA1200"], symptoms:["Monitor apagado/err√°tico", "C√≥digos sensores", "Transmisi√≥n modo seguro"], causes:["Polvo", "Vibraci√≥n", "Humedad"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar conexiones sensores/monitor.", "3. Medir se√±ales sensores."], solution:["Reemplazo sensor", "Reemplazo monitor", "Limpieza conectores"], costoEstimado:"$300 (sensor) - $5,000+ (monitor)", searchTerms:"komatsu wa900 monitor vhms falla sensor", codes:[] },
        { id: 4202, name: "Transmisi√≥n Powershift Komatsu (Grande)", initial:"Falla paquetes embrague, patina.", modelosAplicables:["Komatsu WA900", "WA1200"], symptoms:["Patina", "Pierde marcha", "Sobrecalienta"], causes:["Desgaste normal acelerado"], diagnosticSteps:["1. Prueba stall.", "2. Analizar aceite.", "3. Medir presiones."], solution:["Overhaul transmisi√≥n (reemplazo por Reman)"], costoEstimado:"$60,000 - $100,000+", searchTerms:"komatsu wa900 wa1200 transmision falla", codes:[] }
    ],
    volvo_l120_l150: [
        { id: 2901, name: "Transmisi√≥n Volvo - Sobrecalentamiento", initial:"Temperatura >120¬∞C, p√©rdida potencia.", modelosAplicables:["Volvo A40G", "L120F", "L150G", "L180"], symptoms:["Temp. >120¬∞C", "P√©rdida potencia", "Olor quemado", "Modo seguro", "Aceite oscuro"], causes:["Enfriador obstruido", "Convertidor torque", "Clutch deslizando", "Aceite degradado", "Nivel bajo"], diagnosticSteps:["1. Escanear (VCADS).", "2. Verificar temp.", "3. Prueba stall.", "4. Verificar nivel/condici√≥n aceite.", "5. Inspeccionar enfriador."], solution:["Limpieza enfriador", "Cambio aceite+filtro (Volvo Trans Oil)", "Overhaul", "Reemplazo convertidor", "Flush sistema"], costoEstimado:"US$ 500 (limpieza) - $55,000+ (Overhaul)", searchTerms:"volvo l120 l150 transmision sobrecalentamiento", codes:["MID 130 PID 177"] },
        { id: 4301, name: "Sistema Optishift - Fallas Cambio", initial:"No cambia autom√°tico, brusco, patina.", modelosAplicables:["Volvo L120F", "L150G", "L180"], symptoms:["No cambia auto", "Brusco", "Queda en marcha", "Error display", "Patinamiento"], causes:["Software ECU", "Sensores velocidad", "Solenoide trabado", "Calibraci√≥n perdida", "Modo incorrecto"], diagnosticSteps:["1. Escanear (VCADS).", "2. Verificar modo.", "3. Revisar calibraci√≥n.", "4. Probar sensores/solenoides."], solution:["Actualizar software", "Recalibrar", "Reemplazo sensores/solenoides"], costoEstimado:"$300 (software) - $1,500+ (sensor/solenoide)", searchTerms:"volvo l150 optishift falla cambio", codes:["Consultar VCADS"] }
    ],
    liebherr_l586: [
        { id: 4401, name: "Tren Potencia Hidrost√°tico - Falla Bomba/Motor", initial:"Falla catastr√≥fica, p√©rdida total tracci√≥n.", modelosAplicables:["Liebherr L586 XPower", "PR776"], alertaSeguridad:"P√©rdida s√∫bita movimiento.", symptoms:["P√©rdida tracci√≥n total", "Ruido extremo", "Aceite hidr√°ulico contaminado (metal brillante)"], causes:["Contaminaci√≥n SEVERA aceite hidr√°ulico"], diagnosticSteps:["1. ¬°ANALIZAR ACEITE URGENTE!", "2. Inspeccionar filtros (metal)."], solution:["Reemplazo bomba/motor afectado", "FLUSHING COMPLETO de TODO el sistema hidr√°ulico"], costoEstimado:"$80,000 - $150,000+ por componente + Flushing", searchTerms:"liebherr l586 hidrost√°tico falla bomba motor", codes:[] },
        { id: 4402, name: "Enfriamiento (Radiadores)", initial:"Radiadores tapados, sobrecalentamiento.", modelosAplicables:["Liebherr L586 XPower"], symptoms:["Sobrecalienta motor/hidr√°ulico", "Ventilador 100%"], causes:["Polvo fino obstruye radiadores traseros"], diagnosticSteps:["1. Inspecci√≥n visual.", "2. Medir temperaturas."], solution:["Limpieza a presi√≥n regular", "Verificar ventilador reversible"], costoEstimado:"Mantenimiento", searchTerms:"liebherr l586 radiador tapado sobrecalentamiento", codes:[] }
    ],
    // --- DUMPERS ---
    cat_777_785: [
        { id: 12, name: "Frenos Sobrecalentados / D√©biles", initial:"Olor a quemado, discos rojos, cami√≥n no frena.", modelosAplicables: ["777D/F", "785D", "793F"], alertaSeguridad: "¬°RIESGO CR√çTICO! Detener inmediatamente.", symptoms: ["Discos al rojo", "Olor quemado", "P√©rdida frenado", "Desgaste acelerado", "Fluido hirviendo", "Pedal esponjoso"], causes: ["Uso excesivo (no usar retarder)", "Frenos drag", "Retarder inoperante", "Pistones trabados", "Mangueras colapsadas", "Sistema refrigeraci√≥n discos insuficiente", "Sobrecarga"], diagnosticSteps: ["1. Medir temp. discos (>600¬∞C cr√≠tico).", "2. Inspeccionar discos (grietas, alabeo <0.4mm).", "3. Medir espesor discos (m√≠n 70-75mm).", "4. Inspeccionar pastillas (m√≠n 15mm).", "5. Verificar retarder.", "6. Revisar liberaci√≥n frenos.", "7. Verificar presi√≥n aire."], solution: ["Reemplazo discos/pastillas", "Rebuild calipers", "Reemplazo mangueras", "Flush fluido", "Reparar retarder", "Mejorar refrigeraci√≥n"], costoEstimado: "US$ 10,000 (disco) - $100,000+ (sistema completo)", searchTerms: "camion cat 777 frenos sobrecalentados retarder", codes: ["Consultar ET"] },
        { id: 901, name: "Suspensi√≥n con Fugas / Desnivelada", initial:"Cami√≥n inclinado, suspensi√≥n blanda/dura, fugas.", modelosAplicables:["777D/F", "785D", "793F"], symptoms:["Cami√≥n ladeado", "Suspensi√≥n irregular", "Fugas aceite cilindros", "Vibraci√≥n", "Desgaste neum√°ticos"], causes:["Cilindros suspensi√≥n fugando (sellos)", "Acumuladores N2 sin presi√≥n", "V√°lvulas control", "Aceite contaminado", "Sensores nivel descalibrados"], diagnosticSteps:["1. Medir presi√≥n acumuladores (120-140 bar).", "2. Inspeccionar cilindros (fugas).", "3. Verificar nivel cami√≥n.", "4. Escanear c√≥digos (ET).", "5. Revisar sensores nivel."], solution:["Recarga acumuladores N2", "Rebuild cilindros", "Reemplazo acumuladores", "Cambio aceite", "Calibrar sensores", "Reemplazo v√°lvulas"], costoEstimado:"US$ 500 (recarga) - $6,000+ (cilindro)", searchTerms:"camion cat 777 suspension desnivelada fuga nitrogeno", codes:[] },
        { id: 1601, name: "Transmisi√≥n Electr√≥nica CAT", initial:"No entra marcha, display error, modo seguro.", modelosAplicables:["777D/F", "785D", "793F"], symptoms:["No entra F/R", "Error display", "Modo Limp (10 km/h)", "C√≥digos m√∫ltiples"], causes:["Sensor velocidad", "Solenoide cambio", "ECM transmisi√≥n", "Presi√≥n clutch baja", "Cableado"], diagnosticSteps:["1. Escanear (ET).", "2. Verificar presiones/sensores/solenoides.", "3. Pruebas solenoides.", "4. Verificar voltaje ECM.", "5. Revisar cableado."], solution:["Reemplazo sensor/solenoide/ECM", "Reparar cableado", "Recalibrar (ET)"], costoEstimado:"US$ 500 (sensor) - $7,000 (ECM)", searchTerms:"camion cat 777 transmision falla electronica", codes:["Consultar ET"] },
        { id: 2501, name: "Motor C27/C32 - Sobrecalentamiento", initial:"Temperatura >105¬∞C, p√©rdida potencia.", modelosAplicables:["CAT 777D/F", "785D", "793F"], alertaSeguridad:"Riesgo da√±o motor severo.", symptoms:["Temp. >105¬∞C", "P√©rdida potencia", "Alarma", "Ebullici√≥n", "Ventilador 100%"], causes:["Radiador obstruido", "Bomba agua", "Termostatos (82¬∞C)", "Ventilador hidr√°ulico", "Tapa radiador (15 PSI)", "Intercooler", "Junta culata"], diagnosticSteps:["1. Verificar temp (ET).", "2. Inspeccionar radiador.", "3. Verificar bomba/termostatos/tapa.", "4. Probar ventilador.", "5. Prueba gases en refrigerante."], solution:["Limpieza/reemplazo radiador", "Reemplazo bomba/termostatos/tapa", "Rebuild motor ventilador", "Flush sistema (CAT ELC)", "Reemplazo junta culata"], costoEstimado:"US$ 500 (limpieza) - $30,000+ (junta/radiador)", searchTerms:"camion cat 777 c27 c32 sobrecalentamiento", codes:["E230-2"] },
         { id: 4501, name: "Diferencial / Mandos Finales (Mec√°nico)", initial:"Falla catastr√≥fica, ruido extremo, p√©rdida tracci√≥n.", modelosAplicables:["CAT 793F", "797F"], alertaSeguridad:"P√©rdida s√∫bita tracci√≥n.", symptoms:["Ruido extremo", "P√©rdida tracci√≥n", "Fuga aceite"], causes:["Fatiga extrema", "Impacto", "Contaminaci√≥n aceite"], diagnosticSteps:["1. Revisar aceite (metal).", "2. Escuchar.", "3. Medir temp."], solution:["Reemplazo diferencial / mando final completo"], costoEstimado:"$100,000 - $300,000+", searchTerms:"cat 797f 793f diferencial mando final falla", codes:[] }
    ],
    komatsu_hd785: [ // HD785 es mec√°nico, 930E/980E son el√©ctricos
        { id: 2601, name: "Motor Komatsu SA12V140 - Turbo Compound", initial:"P√©rdida potencia, humo negro, temp. escape alta.", modelosAplicables:["HD785-7", "930E"], symptoms:["P√©rdida potencia >20%", "Humo negro", "Temp. escape >650¬∞C", "Ruido turbos", "Lento"], causes:["Turbo principal", "Power turbine", "Actuadores VGT", "Intercooler", "Filtro aire", "Escape restricto"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar boost (250-280 kPa) / temp. escape.", "3. Inspecci√≥n turbos (juego/da√±o).", "4. Medir restricci√≥n aire/escape."], solution:["Rebuild/reemplazo turbos/power turbine", "Reemplazo actuadores", "Limpieza intercooler/escape", "Cambio filtro aire"], costoEstimado:"US$ 4,000 (power turbine rebuild) - $20,000+ (turbo nuevo)", searchTerms:"komatsu hd785 sa12v140 turbo compound falla", codes:["Consultar KOMTRAX"] },
        { id: 2602, name: "Sistema Frenos Retarder Inoperante", initial:"No frena en bajadas, sobrecalienta frenos servicio.", modelosAplicables:["HD785-7", "930E", "980E"], alertaSeguridad:"¬°RIESGO CR√çTICO! No operar sin retarder.", symptoms:["No frena", "Sobrecalienta frenos", "Olor quemado", "Luz retarder", "Velocidad excesiva"], causes:["Aceite transmisi√≥n bajo/quemado", "Estator/rotor retarder", "V√°lvula control", "Sensor velocidad", "ECM retarder", "Enfriador obstruido"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar nivel/condici√≥n aceite.", "3. Prueba funcional (niveles 1-6).", "4. Inspeccionar aceite.", "5. Verificar enfriador."], solution:["Cambio aceite (Komatsu TO-4 50)", "Overhaul retarder", "Rebuild v√°lvula", "Reemplazo sensor/ECM", "Limpieza enfriador"], costoEstimado:"US$ 2,500 (aceite) - $28,000 (Overhaul)", searchTerms:"komatsu hd785 retarder no funciona", codes:["Consultar KOMTRAX"] },
         { id: 2801, name: "Tracci√≥n El√©ctrica AC (Komatsu)", initial:"P√©rdida tracci√≥n, sobrecalentamiento motor rueda, c√≥digos.", modelosAplicables:["Komatsu 930E", "980E"], alertaSeguridad:"Alta tensi√≥n.", symptoms:["P√©rdida tracci√≥n (1 o ambas ruedas)", "Tracci√≥n intermitente", "Sobrecalentamiento (>120¬∞C)", "C√≥digos", "Ventiladores m√°ximos"], causes:["Generador AC", "Inverter/Rectificador", "Motores rueda", "Cableado alta tensi√≥n", "Control IGBT", "Sensores velocidad", "Refrigeraci√≥n"], diagnosticSteps:["1. Escanear (KOMTRAX).", "2. Verificar voltajes/corrientes.", "3. Medir temperaturas.", "4. Prueba estacionaria.", "5. Inspecci√≥n visual (cables, aisladores).", "6. Medir aislamiento."], solution:["Overhaul/reemplazo generador/inverter/motores rueda", "Reemplazo m√≥dulos IGBT", "Reparar/reemplazar cableado", "Reparar refrigeraci√≥n", "Actualizar software"], costoEstimado:"$10,000 (m√≥dulo) - $400,000+ (generador/motor)", searchTerms:"komatsu 930e 980e traccion electrica falla motor rueda inverter", codes:[] },
         { id: 2802, name: "Frenado Din√°mico (Grid Box)", initial:"P√©rdida capacidad retardo, sobrecalentamiento.", modelosAplicables:["Komatsu 930E", "980E"], symptoms:["No retarda suficiente", "Sobrecalienta resistencias", "Falla sopladores", "Alarma"], causes:["Falla sopladores", "Resistencia quemada", "Controlador"], diagnosticSteps:["1. Verificar funcionamiento sopladores.", "2. Inspeccionar resistencias.", "3. Medir temperaturas.", "4. Escanear c√≥digos."], solution:["Reemplazo motor soplador", "Reemplazo m√≥dulo resistencia", "Reparar controlador"], costoEstimado:"$5,000 (motor) - $20,000+ (m√≥dulo)", searchTerms:"komatsu 930e 980e frenado dinamico grid box falla", codes:[] },
         { id: 4601, name: "Mandos Finales (Planetarios El√©ctricos)", initial:"Falla reductor planetario en rueda.", modelosAplicables:["Komatsu 930E", "980E"], symptoms:["Ruido", "Vibraci√≥n", "Fuga aceite", "Sobrecalentamiento"], causes:["Contaminaci√≥n aceite", "Fatiga engranajes"], diagnosticSteps:["1. Revisar aceite (metal).", "2. Medir temp.", "3. An√°lisis vibraci√≥n."], solution:["Reemplazo mando final"], costoEstimado:"$80,000 - $150,000+ por lado", searchTerms:"komatsu 930e 980e mando final falla planetario", codes:[] }
    ],
    volvo_a40: [
        { id: 1402, name: "Motor Volvo D13/D16 - Sistema SCR/AdBlue", initial:"Luz AdBlue, countdown, p√©rdida potencia, no arranca.", modelosAplicables:["Volvo EC210B", "EC240C", "A40G"], alertaSeguridad:"Countdown 0 = NO ARRANCA.", symptoms:["Luz AdBlue", "Countdown", "Potencia reducida", "No arranca", "Consumo AdBlue anormal", "Cristalizaci√≥n"], causes:["Tanque vac√≠o", "AdBlue mala calidad", "Inyector obstruido", "Calentador", "Sensores NOx", "Bomba AdBlue"], diagnosticSteps:["1. Escanear (VCADS).", "2. Leer countdown.", "3. Verificar nivel/calidad AdBlue.", "4. Probar dosificaci√≥n.", "5. Inspeccionar inyector.", "6. Verificar calentador/sensores."], solution:["Rellenar (ISO 22241)", "Reemplazo inyector", "Limpieza sistema", "Reemplazo calentador", "Reemplazo sensores NOx", "Reemplazo bomba", "Reset countdown (VCADS)"], costoEstimado:"US$ 5 (AdBlue) - $4,000+ (Sensores NOx)", searchTerms:"volvo a40g adblue scr falla countdown", codes:["P20E8", "P204F", "..."] },
        { id: 2701, name: "Articulaci√≥n Central con Juego", initial:"Movimiento lateral chasis, ruido 'clonk', direcci√≥n imprecisa.", modelosAplicables:["Volvo A40G"], alertaSeguridad:"Riesgo p√©rdida control a alta velocidad.", symptoms:["Juego >5mm", "Ruido", "Direcci√≥n imprecisa", "Desgaste neum√°ticos", "Vibraci√≥n", "Fugas"], causes:["Bujes articulaci√≥n", "Pines desgastados", "Rodamientos thrust", "Falta lubricaci√≥n", "Grietas", "Pernos flojos"], diagnosticSteps:["1. Medir juego.", "2. Inspeccionar grietas/fugas.", "3. Verificar lubricaci√≥n.", "4. Revisar apriete pernos (1200-1400 Nm).", "5. Medir desgaste pines."], solution:["Reemplazo bujes/pines/rodamientos", "Rebuild articulaci√≥n", "Reparar soldaduras", "Re-torque pernos", "Lubricar"], costoEstimado:"US$ 3,000 (bujes) - $25,000 (Rebuild)", searchTerms:"volvo a40g articulacion juego holgura", codes:[] },
        { id: 2901, name: "Transmisi√≥n Volvo - Sobrecalentamiento", initial:"Temperatura >120¬∞C, p√©rdida potencia.", modelosAplicables:["Volvo A40G", "L120F", "L150G", "L180"], symptoms:["Temp. >120¬∞C", "P√©rdida potencia", "Olor quemado", "Modo seguro", "Aceite oscuro"], causes:["Enfriador obstruido", "Convertidor torque", "Clutch deslizando", "Aceite degradado", "Nivel bajo"], diagnosticSteps:["1. Escanear (VCADS).", "2. Verificar temp.", "3. Prueba stall.", "4. Verificar nivel/condici√≥n aceite.", "5. Inspeccionar enfriador."], solution:["Limpieza enfriador", "Cambio aceite+filtro (Volvo Trans Oil)", "Overhaul", "Reemplazo convertidor", "Flush sistema"], costoEstimado:"US$ 500 (limpieza) - $55,000+ (Overhaul)", searchTerms:"volvo a40g l150g transmision sobrecalentamiento", codes:["MID 130 PID 177"] },
         { id: 4701, name: "Suspensi√≥n Hydropneum√°tica Volvo", initial:"Altura irregular, suspensi√≥n dura/blanda, fugas.", modelosAplicables:["Volvo A40G"], symptoms:["Desnivelado", "Dura/blanda", "Ruido bombeo", "Fugas cilindros", "P√©rdida presi√≥n N2"], causes:["Acumuladores N2 sin presi√≥n", "Cilindros fugando", "V√°lvulas control", "Sensores nivel", "Bomba suspensi√≥n"], diagnosticSteps:["1. Medir altura.", "2. Verificar presi√≥n N2 (120-140 bar).", "3. Prueba fugas cilindros.", "4. Escanear (VCADS).", "5. Verificar bomba."], solution:["Recarga N2", "Rebuild/reemplazo cilindros", "Reemplazo acumuladores", "Rebuild v√°lvulas", "Reemplazo sensores", "Overhaul bomba", "Calibrar (VCADS)"], costoEstimado:"$500 (recarga) - $8,000+ (cilindro)", searchTerms:"volvo a40g suspension hydropneumatica falla", codes:[] }
    ],
    liebherr_t284: [
        { id: 3001, name: "Tracci√≥n El√©ctrica AC (Liebherr)", initial:"P√©rdida tracci√≥n, sobrecalentamiento, c√≥digos.", modelosAplicables:["Liebherr T284"], alertaSeguridad:"Alta tensi√≥n.", symptoms:["P√©rdida tracci√≥n", "Intermitente", "Sobrecalentamiento (>120¬∞C motores)", "C√≥digos", "Ventiladores m√°ximos"], causes:["Generador AC", "Inverter", "Motores rueda", "Cableado alta tensi√≥n", "Control IGBT", "Sensores", "Refrigeraci√≥n"], diagnosticSteps:["1. Escanear (Liebherr Software).", "2. Verificar voltajes/corrientes.", "3. Medir temperaturas.", "4. Prueba estacionaria.", "5. Inspecci√≥n visual.", "6. Medir aislamiento."], solution:["Overhaul/reemplazo generador/inverter/motores", "Reemplazo m√≥dulos IGBT", "Reparar/reemplazar cableado/refrigeraci√≥n", "Actualizar software"], costoEstimado:"$10,000 (m√≥dulo) - $400,000+ (generador/motor)", searchTerms:"liebherr t284 traccion electrica falla litronic", codes:[] },
        { id: 3002, name: "Suspensi√≥n Delantera", initial:"Desgaste bujes, suspensi√≥n dura.", modelosAplicables:["Liebherr T284"], symptoms:["Desgaste neum√°ticos", "Suspensi√≥n dura", "Ruidos"], causes:["Desgaste bujes sistema MacPherson", "Caminos malos"], diagnosticSteps:["1. Inspecci√≥n visual bujes.", "2. Medir juego."], solution:["Reemplazo bujes suspensi√≥n delantera"], costoEstimado:"US$ 2,000 - $5,000", searchTerms:"liebherr t284 suspension delantera bujes", codes:[] },
         { id: 4801, name: "Mando Final (Planetario El√©ctrico)", initial:"Falla reductor planetario en rueda.", modelosAplicables:["Liebherr T284"], symptoms:["Ruido", "Vibraci√≥n", "Fuga aceite", "Sobrecalentamiento"], causes:["Contaminaci√≥n aceite", "Fatiga engranajes"], diagnosticSteps:["1. Revisar aceite (metal).", "2. Medir temp.", "3. An√°lisis vibraci√≥n."], solution:["Reemplazo mando final"], costoEstimado:"$90,000 - $160,000+ por lado", searchTerms:"liebherr t284 mando final falla planetario", codes:[] }
    ],
    // --- BULLDOZERS ---
    cat_d11: [
        { id: 1701, name: "Tren Rodado High-Sprocket", initial:"Desgaste segmentos, bujes, cadenas.", modelosAplicables: ["CAT D11T", "D11R"], symptoms: ["Desgaste visible", "Ruido", "Vibraci√≥n", "Cadenas flojas"], causes: ["Abrasi√≥n"], diagnosticSteps: ["1. Medir desgaste (segmentos, bujes, altura eslab√≥n).", "2. Inspeccionar rodillos/ruedas gu√≠a."], solution: ["Reemplazo segmentos", "Volteo/reemplazo bujes/pines", "Reemplazo carro completo"], costoEstimado: "Consumible. $1,000 (segmentos) - $80,000+ (carro completo)", searchTerms: "cat d11 tren rodaje desgaste sprocket cadena", codes: [] },
        { id: 1702, name: "Ripper - Fractura Punta/V√°stago", initial:"Punta rota o v√°stago fisurado.", modelosAplicables: ["CAT D11T", "D11R"], alertaSeguridad:"Proyecci√≥n fragmentos.", symptoms:["Punta rota", "V√°stago fisurado"], causes:["Impacto roca dura", "Fatiga"], diagnosticSteps:["1. Inspecci√≥n visual."], solution:["Reemplazo punta (tip)", "Reemplazo/reparaci√≥n v√°stago (shank)"], costoEstimado:"Consumible. $300 (punta) - $5,000+ (v√°stago)", searchTerms:"cat d11 ripper punta vastago roto", codes:[] },
        { id: 1703, name: "Mandos Finales Planetarios", initial:"Falla catastr√≥fica, p√©rdida tracci√≥n.", modelosAplicables: ["CAT D11T", "D11R"], alertaSeguridad:"P√©rdida s√∫bita tracci√≥n.", symptoms:["Ruido extremo", "P√©rdida tracci√≥n", "Fuga aceite"], causes:["Fatiga extrema", "Contaminaci√≥n aceite (polvo)", "Impacto"], diagnosticSteps:["1. Revisar aceite mando final (metal).", "2. Escuchar ruidos.", "3. Medir temperatura."], solution:["Reemplazo completo mando final"], costoEstimado:"$50,000 - $100,000+ por lado", searchTerms:"cat d11 mando final falla planetario", codes:[] },
        { id: 3101, name: "Divisor de Par (Torque Divider)", initial:"P√©rdida total fuerza empuje, patina.", modelosAplicables:["CAT D11T", "D11R"], symptoms:["Sin fuerza", "Patina", "Ruido"], causes:["Desgaste embragues internos", "Falla convertidor"], diagnosticSteps:["1. Prueba stall (RPM bajas).", "2. Revisar aceite transmisi√≥n (metal)."], solution:["Overhaul divisor de par (requiere sacar transmisi√≥n)"], costoEstimado:"$20,000 - $40,000", searchTerms:"cat d11 divisor par torque divider falla", codes:[] },
        { id: 3102, name: "Chasis / Tag-Link Fisurado", initial:"Grietas visibles en bastidor o brazo hoja.", modelosAplicables:["CAT D11T", "D11R"], alertaSeguridad:"Riesgo colapso estructural.", symptoms:["Fisuras visibles"], causes:["Fatiga", "Impacto", "Torsi√≥n"], diagnosticSteps:["1. Limpieza e inspecci√≥n visual.", "2. L√≠quidos penetrantes/Ultrasonido."], solution:["Reparaci√≥n estructural (soldadura seg√∫n procedimiento CAT)"], costoEstimado:"$5,000 - $20,000+", searchTerms:"cat d11 chasis fisura tag link", codes:[] }
    ],
    komatsu_d475: [
        { id: 3201, name: "Tren Rodado Low-Sprocket", initial:"Desgaste bujes, cadenas, rodillos.", modelosAplicables:["Komatsu D475A"], symptoms:["Desgaste visible", "Ruido", "Vibraci√≥n"], causes:["Abrasi√≥n (sprocket m√°s expuesto que High-Sprocket)"], diagnosticSteps:["1. Medir desgaste.", "2. Inspeccionar componentes."], solution:["Reemplazo programado"], costoEstimado:"Similar a D11, $80,000+ carro completo", searchTerms:"komatsu d475 tren rodaje desgaste", codes:[] },
        { id: 3202, name: "Mandos Finales Komatsu", initial:"Falla planetarios, ruido, p√©rdida tracci√≥n.", modelosAplicables:["Komatsu D475A"], symptoms:["Ruido", "P√©rdida tracci√≥n", "Fuga aceite"], causes:["Contaminaci√≥n aceite (sellos Duo-Cone)", "Fatiga", "Impacto"], diagnosticSteps:["1. Revisar aceite (metal).", "2. Escuchar.", "3. Medir temp."], solution:["Reemplazo mando final (modular)"], costoEstimado:"$60,000 - $120,000+ por lado", searchTerms:"komatsu d475 mando final falla", codes:[] },
        { id: 3203, name: "Transmisi√≥n Torqflow", initial:"Patinamiento bajo carga (1ra/Reversa).", modelosAplicables:["Komatsu D475A"], symptoms:["Patina", "Sin fuerza", "Sobrecalentamiento"], causes:["Desgaste clutch packs (ciclos FWD/REV)"], diagnosticSteps:["1. Prueba stall.", "2. Revisar aceite (metal/quemado).", "3. Medir presiones."], solution:["Overhaul transmisi√≥n (modular)"], costoEstimado:"$40,000 - $70,000+", searchTerms:"komatsu d475 transmision torqflow patina", codes:[] }
    ],
    liebherr_pr776: [
        { id: 3301, name: "Tren Potencia Hidrost√°tico - Falla Bomba/Motor", initial:"Falla catastr√≥fica, p√©rdida total tracci√≥n.", modelosAplicables:["Liebherr PR776", "L586 XPower"], alertaSeguridad:"P√©rdida s√∫bita movimiento.", symptoms:["P√©rdida tracci√≥n total", "Ruido extremo", "Aceite hidr√°ulico contaminado (metal brillante)"], causes:["Contaminaci√≥n SEVERA aceite hidr√°ulico"], diagnosticSteps:["1. ¬°ANALIZAR ACEITE URGENTE!", "2. Inspeccionar filtros (metal)."], solution:["Reemplazo bomba/motor afectado", "FLUSHING COMPLETO de TODO el sistema hidr√°ulico"], costoEstimado:"$80,000 - $150,000+ por componente + Flushing", searchTerms:"liebherr pr776 hidrost√°tico falla bomba motor", codes:[] },
        { id: 3302, name: "Electr√≥nico - Falla Controlador Tracci√≥n", initial:"Errores m√∫ltiples, tracci√≥n err√°tica.", modelosAplicables:["Liebherr PR776"], symptoms:["C√≥digos error", "Tracci√≥n inestable", "No responde"], causes:["Picos voltaje", "Humedad", "Calor"], diagnosticSteps:["1. Diagn√≥stico con laptop Liebherr.", "2. Verificar conexiones."], solution:["Reemplazo controlador ECU"], costoEstimado:"$10,000 - $25,000+", searchTerms:"liebherr pr776 ecu controlador falla", codes:[] }
    ],
    // --- MOTONIVELADORAS ---
    cat_16_24: [
        { id: 1801, name: "Tornamesa Hoja - Desgaste", initial:"Juego excesivo en tornamesa, hoja vibra.", modelosAplicables: ["CAT 16M", "24M"], symptoms: ["Juego >5mm", "Vibraci√≥n hoja", "Corte irregular"], causes: ["Desgaste tiras (wear strips)", "Abrasi√≥n"], diagnosticSteps: ["1. Medir juego tornamesa.", "2. Inspeccionar tiras desgaste."], solution: ["Ajuste/reemplazo tiras desgaste", "Reemplazo cuchillas"], costoEstimado: "Consumible. $500 (tiras) - $3,000 (cuchillas)", searchTerms: "cat 16m 24m tornamesa juego desgaste tiras", codes: [] },
        { id: 1802, name: "Mando Tornamesa (Circle Drive)", initial:"Tornamesa no gira o gira con dificultad.", modelosAplicables: ["CAT 16M", "24M"], symptoms: ["No gira", "Lento", "Ruido", "Fugas"], causes: ["Falla motor hidr√°ulico", "Falla caja engranajes", "Impacto", "Desgaste dientes"], diagnosticSteps: ["1. Medir presi√≥n motor giro.", "2. Inspeccionar caja (aceite/metal).", "3. Verificar dientes."], solution: ["Reemplazo mando tornamesa (motor+caja)"], costoEstimado: "$15,000 - $30,000+", searchTerms: "cat 16m 24m mando tornamesa circle drive falla", codes: [] },
        { id: 3401, name: "Transmisi√≥n Powershift (Motoniveladora)", initial:"Patinamiento, cambios bruscos.", modelosAplicables:["CAT 16M", "24M"], symptoms:["Patina", "Golpes", "Sobrecalentamiento"], causes:["Desgaste clutch", "Descalibraci√≥n"], diagnosticSteps:["1. Calibraci√≥n con ET.", "2. Revisar aceite (metal)."], solution:["Calibraci√≥n", "Overhaul transmisi√≥n"], costoEstimado:"$500 (calibraci√≥n) - $30,000+ (Overhaul)", searchTerms:"cat 16m 24m transmision falla patina", codes:[] }
    ],
    komatsu_gd955: [
        { id: 3501, name: "T√°ndems (Ejes Traseros)", initial:"Ruido, vibraci√≥n, fuga en t√°ndems.", modelosAplicables:["Komatsu GD955"], symptoms:["Ruido", "Vibraci√≥n", "Fuga aceite", "P√©rdida tracci√≥n"], causes:["Falla mandos finales (cadenas/engranajes)", "Contaminaci√≥n aceite", "Fatiga"], diagnosticSteps:["1. Revisar aceite t√°ndem (metal).", "2. Escuchar ruidos.", "3. Inspeccionar fugas."], solution:["Desarme t√°ndem, reemplazo cadenas/rodamientos/engranajes"], costoEstimado:"$10,000 - $25,000+ por t√°ndem", searchTerms:"komatsu gd955 tandem falla ruido", codes:[] },
        { id: 3502, name: "Chasis Articulado Komatsu", initial:"Juego en articulaci√≥n, direcci√≥n imprecisa.", modelosAplicables:["Komatsu GD955"], symptoms:["Juego", "Ruido", "Direcci√≥n imprecisa"], causes:["Desgaste pines/bocinas"], diagnosticSteps:["1. Medir juego.", "2. Inspecci√≥n visual."], solution:["Reparaci√≥n mayor (Bar-boring)"], costoEstimado:"$15,000 - $30,000+", searchTerms:"komatsu gd955 articulacion juego", codes:[] }
    ],
    // --- PALAS ---
    cat_pala: [
        { id: 1901, name: "Balde GET (Dientes/Protectores)", initial:"Fractura dientes, desgaste protectores.", modelosAplicables: ["CAT 6060FS", "6090FS"], alertaSeguridad:"Proyecci√≥n fragmentos.", symptoms:["Dientes/adaptadores rotos", "Protectores gastados"], causes:["Impacto roca dura", "Abrasi√≥n"], diagnosticSteps:["1. Inspecci√≥n visual diaria."], solution:["Reemplazo GET (soldadura)"], costoEstimado:"Consumible. $500 - $5,000+ por diente/protector", searchTerms:"pala cat 6060 get dientes rotos", codes:[] },
        { id: 1902, name: "Corona de Giro (Swing Bearing)", initial:"Falla catastr√≥fica, ruido extremo al girar.", modelosAplicables: ["CAT 6060FS", "6090FS", "Komatsu PC8000", "Liebherr R9800", "Hitachi EX8000"], alertaSeguridad:"Riesgo separaci√≥n estructura.", symptoms:["Ruido extremo", "Vibraci√≥n", "Giro trabado", "Fuga grasa"], causes:["Fatiga (millones ciclos)", "Lubricaci√≥n deficiente", "Impacto"], diagnosticSteps:["1. Medir juego corona.", "2. Analizar grasa (metal).", "3. Inspecci√≥n ultrasonido."], solution:["Reemplazo completo corona de giro (reparaci√≥n mayor)"], costoEstimado:"$200,000 - $500,000+", searchTerms:"pala cat 6060 corona giro falla swing bearing", codes:[] },
        { id: 3601, name: "Cajas de Giro (Swing Drives)", initial:"Falla reductor planetario, giro se detiene.", modelosAplicables:["CAT 6060FS", "6090FS"], symptoms:["Ruido", "Giro trabado", "Fuga aceite"], causes:["Fatiga", "Impacto", "Contaminaci√≥n aceite"], diagnosticSteps:["1. Revisar aceite caja (metal).", "2. Escuchar ruidos."], solution:["Reemplazo m√≥dulo caja de giro"], costoEstimado:"$50,000 - $100,000+ por caja", searchTerms:"pala cat 6060 caja giro swing drive falla", codes:[] },
        { id: 3602, name: "Cilindros Hidr√°ulicos - Fugas", initial:"Fugas en sellos cilindros levante/balde.", modelosAplicables:["CAT 6060FS", "6090FS"], symptoms:["Fugas externas", "Drift leve"], causes:["Desgaste sellos", "Contaminaci√≥n"], diagnosticSteps:["1. Inspecci√≥n visual.", "2. Prueba drift."], solution:["Reemplazo kit sellos cilindro"], costoEstimado:"$5,000 - $15,000+ por cilindro", searchTerms:"pala cat 6060 cilindro hidraulico fuga", codes:[] }
    ],
     komatsu_pala: [
        { id: 3701, name: "Bombas Hidr√°ulicas Principales", initial:"Falla catastr√≥fica, p√©rdida total funciones.", modelosAplicables:["Komatsu PC8000"], alertaSeguridad:"Parada inmediata.", symptoms:["P√©rdida funciones", "Ruido extremo", "Aceite contaminado (metal brillante)"], causes:["Contaminaci√≥n SEVERA aceite"], diagnosticSteps:["1. ¬°ANALIZAR ACEITE URGENTE!", "2. Inspeccionar filtros (metal)."], solution:["Reemplazo bomba afectada", "FLUSHING COMPLETO sistema hidr√°ulico"], costoEstimado:"$100,000 - $250,000+ por bomba + Flushing", searchTerms:"pala komatsu pc8000 bomba hidraulica falla", codes:[] },
        { id: 3702, name: "Motores Di√©sel (Dual)", initial:"Falla uno de los motores (turbo, inyectores).", modelosAplicables:["Komatsu PC8000"], symptoms:["P√©rdida potencia", "Humo", "C√≥digos motor"], causes:["Desgaste", "Contaminaci√≥n"], diagnosticSteps:["1. Diagn√≥stico motor espec√≠fico."], solution:["Reparar motor afectado (pala puede operar con uno)"], costoEstimado:"Variable seg√∫n falla motor", searchTerms:"pala komatsu pc8000 falla motor", codes:[] },
        { id: 1902, name: "Corona de Giro (Swing Bearing)", initial:"Falla catastr√≥fica, ruido extremo al girar.", modelosAplicables: ["CAT 6060FS", "6090FS", "Komatsu PC8000", "Liebherr R9800", "Hitachi EX8000"], alertaSeguridad:"Riesgo separaci√≥n estructura.", symptoms:["Ruido extremo", "Vibraci√≥n", "Giro trabado", "Fuga grasa"], causes:["Fatiga (millones ciclos)", "Lubricaci√≥n deficiente", "Impacto"], diagnosticSteps:["1. Medir juego corona.", "2. Analizar grasa (metal).", "3. Inspecci√≥n ultrasonido."], solution:["Reemplazo completo corona de giro (reparaci√≥n mayor)"], costoEstimado:"$200,000 - $500,000+", searchTerms:"pala komatsu pc8000 corona giro falla swing bearing", codes:[] }
    ],
     liebherr_pala: [
         { id: 3801, name: "Electr√≥nico - Sistema Litronic", initial:"Fallas intermitentes, c√≥digos, funciones err√°ticas.", modelosAplicables:["Liebherr R9800"], symptoms:["C√≥digos", "Funciones err√°ticas", "No responde"], causes:["Falla m√≥dulos ECU/sensores", "Polvo", "Humedad"], diagnosticSteps:["1. Diagn√≥stico con laptop Liebherr.", "2. Verificar conexiones."], solution:["Reemplazo m√≥dulo/sensor"], costoEstimado:"$5,000 - $20,000+ por m√≥dulo", searchTerms:"pala liebherr r9800 litronic falla ecu", codes:[] },
         { id: 3802, name: "Sistema Auto-lubricaci√≥n", initial:"Puntos no reciben grasa, falla bomba.", modelosAplicables:["Liebherr R9800"], symptoms:["Puntos secos", "Bomba no funciona", "L√≠neas tapadas"], causes:["Bomba grasa", "L√≠neas tapadas", "Grasa incorrecta"], diagnosticSteps:["1. Verificar funcionamiento bomba.", "2. Purgar l√≠neas.", "3. Inspeccionar puntos."], solution:["Purgar l√≠neas", "Reemplazar bomba", "Usar grasa correcta"], costoEstimado:"$1,000 - $5,000+", searchTerms:"pala liebherr r9800 autolube falla", codes:[] },
         { id: 1902, name: "Corona de Giro (Swing Bearing)", initial:"Falla catastr√≥fica, ruido extremo al girar.", modelosAplicables: ["CAT 6060FS", "6090FS", "Komatsu PC8000", "Liebherr R9800", "Hitachi EX8000"], alertaSeguridad:"Riesgo separaci√≥n estructura.", symptoms:["Ruido extremo", "Vibraci√≥n", "Giro trabado", "Fuga grasa"], causes:["Fatiga (millones ciclos)", "Lubricaci√≥n deficiente", "Impacto"], diagnosticSteps:["1. Medir juego corona.", "2. Analizar grasa (metal).", "3. Inspecci√≥n ultrasonido."], solution:["Reemplazo completo corona de giro (reparaci√≥n mayor)"], costoEstimado:"$200,000 - $500,000+", searchTerms:"pala liebherr r9800 corona giro falla swing bearing", codes:[] }
    ],
     hitachi_pala: [
        { id: 3901, name: "M√∫ltiple Central (Center Swivel)", initial:"Fuga interna masiva, mezcla aceites.", modelosAplicables:["Hitachi EX8000"], symptoms:["P√©rdida funciones", "Aceite contaminado", "Sobrecalentamiento"], causes:["Desgaste sellos alta presi√≥n internos"], diagnosticSteps:["1. Analizar aceite (mezcla).", "2. Medir presiones.", "3. Requiere desmontaje parcial."], solution:["Reparaci√≥n mayor m√∫ltiple central (reemplazo sellos)"], costoEstimado:"$50,000 - $100,000+", searchTerms:"pala hitachi ex8000 multiple central center swivel fuga", codes:[] },
        { id: 3902, name: "Hidr√°ulico - Lentitud / Brusquedad", initial:"M√°quina lenta o movimientos bruscos.", modelosAplicables:["Hitachi EX8000"], symptoms:["Lenta", "Brusca", "No suave"], causes:["Desgaste v√°lvulas control flujo", "Bombas piloto"], diagnosticSteps:["1. Medir tiempos ciclo.", "2. Verificar presiones piloto.", "3. Calibrar v√°lvulas."], solution:["Calibraci√≥n/reemplazo v√°lvulas control", "Revisar bombas piloto"], costoEstimado:"$5,000 - $20,000+", searchTerms:"pala hitachi ex8000 hidraulico lento brusco", codes:[] },
         { id: 1902, name: "Corona de Giro (Swing Bearing)", initial:"Falla catastr√≥fica, ruido extremo al girar.", modelosAplicables: ["CAT 6060FS", "6090FS", "Komatsu PC8000", "Liebherr R9800", "Hitachi EX8000"], alertaSeguridad:"Riesgo separaci√≥n estructura.", symptoms:["Ruido extremo", "Vibraci√≥n", "Giro trabado", "Fuga grasa"], causes:["Fatiga (millones ciclos)", "Lubricaci√≥n deficiente", "Impacto"], diagnosticSteps:["1. Medir juego corona.", "2. Analizar grasa (metal).", "3. Inspecci√≥n ultrasonido."], solution:["Reemplazo completo corona de giro (reparaci√≥n mayor)"], costoEstimado:"$200,000 - $500,000+", searchTerms:"pala hitachi ex8000 corona giro falla swing bearing", codes:[] }
    ]
};


// --- UI / L√ìGICA (v13 - Verificada y Robusta) ---
// (El resto del c√≥digo JavaScript es id√©ntico a la versi√≥n v12)
let selectedMachineType = null;
let selectedBrandModelKey = null;
let currentFailure = null;

const machineTypeSection = document.getElementById('machineTypeSection');
const brandModelSection = document.getElementById('brandModelSection');
const failureSection = document.getElementById('failureSection');
const diagnosisArea = document.getElementById('diagnosisArea');

const machineTypesGrid = document.getElementById('machineTypesGrid');
const brandsGrid = document.getElementById('brandsGrid');
const failuresList = document.getElementById('failuresList');
const filterInput = document.getElementById('filterInput');
const diagnosisResult = document.getElementById('diagnosisResult');
const diagnosisTitle = document.getElementById('diagnosisTitle');

const backToTypesBtn = document.getElementById('backToTypesBtn');
const backToBrandsBtn = document.getElementById('backToBrandsBtn');
const backToFailuresBtn = document.getElementById('backToFailuresBtn');
const btnReset = document.getElementById('btnReset');

// Funci√≥n para renderizar iconos (acepta emoji o Font Awesome)
function renderIcon(iconHtmlOrEmoji) {
    if (!iconHtmlOrEmoji) return '<i class="fas fa-question-circle"></i>';
    if (iconHtmlOrEmoji.startsWith('<i')) {
        return iconHtmlOrEmoji;
    } else {
        return `<span class="icon">${iconHtmlOrEmoji}</span>`;
    }
}

function initMachineTypes() {
    machineTypesGrid.innerHTML = '';
    Object.keys(machineTypes).forEach(key => {
        const type = machineTypes[key];
        const card = document.createElement('div');
        card.className = 'selection-card';
        card.innerHTML = `${renderIcon(type.icon)}<strong>${type.name}</strong><div class="description">${type.description || ''}</div>`;
        card.onclick = () => showBrands(key);
        machineTypesGrid.appendChild(card);
    });
}

function showBrands(typeKey) {
    selectedMachineType = typeKey;
    brandsGrid.innerHTML = '';
    const brands = brandsAndModels[typeKey] || [];

    if (brands.length === 0) {
        brandsGrid.innerHTML = `<p style="color: #f5b74f; padding: 15px; text-align: center;">A√∫n no hay marcas/modelos definidos para ${machineTypes[typeKey]?.name || 'este tipo'}.</p>`;
    } else {
        brands.forEach(brand => {
            const card = document.createElement('div');
            card.className = 'selection-card';
            const modelsText = brand.models ? `<div class="description">${brand.models.join(' / ')}</div>` : '';
            const iconToRender = brand.icon || machineTypes[typeKey]?.icon || '<i class="fas fa-industry"></i>';
            card.innerHTML = `${renderIcon(iconToRender)}<strong>${brand.name || 'Marca Desconocida'}</strong>${modelsText}`;
            card.onclick = () => selectBrandModel(brand.key);
            brandsGrid.appendChild(card);
        });
    }
    machineTypeSection.classList.add('hidden');
    brandModelSection.classList.remove('hidden');
    failureSection.classList.add('hidden');
    diagnosisArea.classList.add('hidden');
    brandModelSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function selectBrandModel(brandKey) {
    selectedBrandModelKey = brandKey;
    filterInput.value = '';
    renderFailuresList(brandKey);
    brandModelSection.classList.add('hidden');
    failureSection.classList.remove('hidden');
    diagnosisArea.classList.add('hidden');
    failureSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function renderFailuresList(brandKey, filterText = '') {
    const list = document.getElementById('failuresList');
    list.innerHTML = '';
    const modelFailures = Array.isArray(failures[brandKey]) ? failures[brandKey] : [];
    const lowerFilterText = filterText.toLowerCase().trim();

    const filteredFailures = modelFailures.filter(f => {
        if (!f) return false;
        const nameMatch = f.name && f.name.toLowerCase().includes(lowerFilterText);
        const initialMatch = f.initial && f.initial.toLowerCase().includes(lowerFilterText);
        const symptomMatch = Array.isArray(f.symptoms) && f.symptoms.some(s => s && s.toLowerCase().includes(lowerFilterText));
        const modelMatch = Array.isArray(f.modelosAplicables) && f.modelosAplicables.some(m => m && m.toLowerCase().includes(lowerFilterText));
        return nameMatch || initialMatch || symptomMatch || modelMatch;
    });

    if (filteredFailures.length === 0) {
         let brandName = 'este modelo';
         if (selectedMachineType && brandsAndModels[selectedMachineType]) {
             const brandData = brandsAndModels[selectedMachineType].find(b => b.key === brandKey);
             if (brandData) brandName = brandData.name;
         }
        list.innerHTML = `<p style="color: #f5b74f; padding: 15px; text-align: center;">${filterText ? 'No se encontraron fallas con ese filtro.' : `A√∫n no hay fallas definidas para ${brandName}.`}</p>`;
    } else {
        filteredFailures.forEach(f => {
            const btn = document.createElement('button');
            btn.className = 'failure-btn';
            const modelsText = Array.isArray(f.modelosAplicables) && f.modelosAplicables.length > 0
                ? `<div class="models">Modelos: ${f.modelosAplicables.join(', ')}</div>` : '';
            const initialText = f.initial || 'Contexto no especificado.';
            btn.innerHTML = `<strong>${f.name || 'Falla sin Nombre'}</strong><div class="initial-context">${initialText}</div>${modelsText}`;
            btn.onclick = () => showDiagnosis(f);
            list.appendChild(btn);
        });
    }
}

filterInput.addEventListener('input', (e) => {
    if (selectedBrandModelKey) {
        renderFailuresList(selectedBrandModelKey, e.target.value);
    }
});

function showDiagnosis(f) {
    currentFailure = f;
    diagnosisArea.classList.remove('hidden');
    failureSection.classList.add('hidden');
    diagnosisTitle.innerHTML = `<i class="fas fa-clipboard-list section-icon"></i> Diagn√≥stico: ${f.name || 'Falla sin Nombre'}`;

    const renderList = (items, type = 'ul') => {
        if (!Array.isArray(items) || items.length === 0) return '<p>Informaci√≥n no disponible.</p>';
        const listItems = items.map(item => `<li>${item || 'N/A'}</li>`).join('');
        return type === 'ol' ? `<ol>${listItems}</ol>` : `<ul>${listItems}</ul>`;
    };
    const renderCodes = (codes) => {
        if (!Array.isArray(codes) || codes.length === 0) return '';
        const codeItems = codes.map(c => `<code>${c || 'N/A'}</code>`).join(' ');
        return `<div class="info-card codes-list"><h4><i class="fas fa-laptop-code"></i> C√≥digos Error</h4><p>${codeItems}</p></div>`;
    };

    diagnosisResult.innerHTML = `
        ${f.modelosAplicables && f.modelosAplicables.length > 0 ? `<p class="model-info">Modelos Aplicables: ${f.modelosAplicables.join(', ')}</p>`: ''}
        ${f.alertaSeguridad ? `<div class="alert-safety info-card"><h4><i class="fas fa-biohazard"></i> ALERTA SEGURIDAD</h4><p>${f.alertaSeguridad || 'N/A'}</p></div>` : ''}
        <div class="info-card"><h4><i class="fas fa-eye"></i> S√≠ntomas</h4>${renderList(f.symptoms)}<p style="margin-top:15px;"><strong>Contexto:</strong> ${f.initial || 'N/A'}</p></div>
        <div class="info-card"><h4><i class="fas fa-project-diagram"></i> Causas Probables</h4>${renderList(f.causes)}</div>
        <div class="info-card"><h4><i class="fas fa-stethoscope"></i> Pasos de Diagn√≥stico</h4>${renderList(f.diagnosticSteps, 'ol')}</div>
        <div class="info-card"><h4><i class="fas fa-wrench"></i> Soluciones Recomendadas</h4>${renderList(f.solution)}</div>
        <div class="info-card"><h4><i class="fas fa-dollar-sign"></i> Gesti√≥n</h4><p><strong>Costo Estimado:</strong> ${f.costoEstimado || 'Variable'}</p>${f.tiempoDowntime ? `<p><strong>Tiempo de Inactividad (Downtime):</strong> ${f.tiempoDowntime}</p>` : ''}</div>
        ${renderCodes(f.codes)}
        ${f.datoIngeniero ? `<div class="alert-engineer info-card"><h4><i class="fas fa-lightbulb"></i> Dato T√©cnico / Prevenci√≥n</h4><p>${f.datoIngeniero || 'N/A'}</p></div>` : ''}
    `;

    const googleBtn = document.getElementById('btnOpenGoogle');
    const searchTerm = (typeof f.searchTerms === 'string' ? f.searchTerms : f.name) || '';
    const q = encodeURIComponent(searchTerm);
    let brandModelName = '';
     if (selectedMachineType && selectedBrandModelKey && brandsAndModels[selectedMachineType]) {
        const brandData = brandsAndModels[selectedMachineType].find(b => b.key === selectedBrandModelKey);
        if (brandData) brandModelName = brandData.name;
    }
    googleBtn.href = `https://www.google.com/search?q=${q}+${encodeURIComponent(brandModelName)}`;

    diagnosisArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

document.addEventListener('DOMContentLoaded', () => {
    initMachineTypes();

    backToTypesBtn.addEventListener('click', () => {
        brandModelSection.classList.add('hidden');
        machineTypeSection.classList.remove('hidden');
        machineTypeSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
    backToBrandsBtn.addEventListener('click', () => {
        failureSection.classList.add('hidden');
        brandModelSection.classList.remove('hidden');
        brandModelSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
     backToFailuresBtn.addEventListener('click', () => {
        diagnosisArea.classList.add('hidden');
        failureSection.classList.remove('hidden');
    });

    btnReset.addEventListener('click', () => {
        brandModelSection.classList.add('hidden');
        failureSection.classList.add('hidden');
        diagnosisArea.classList.add('hidden');
        machineTypeSection.classList.remove('hidden');
        document.querySelectorAll('.selection-card').forEach(c => c.classList.remove('selected'));
        selectedMachineType = null;
        selectedBrandModelKey = null;
        currentFailure = null;
        filterInput.value = '';
        window.scrollTo({top: 0, behavior:'smooth'});
    });
});
</script>
</body>
</html>
